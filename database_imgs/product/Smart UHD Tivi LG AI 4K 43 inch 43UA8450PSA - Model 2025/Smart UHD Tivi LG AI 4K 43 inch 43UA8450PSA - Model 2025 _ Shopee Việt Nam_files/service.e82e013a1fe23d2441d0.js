(self.miniJsonp=self.miniJsonp||[]).push([[9631],{27830:function(e,t,r){var o;o=(e,t,r,o,n,a,s,c,i,l,_)=>(()=>{"use strict";var u={701:(e,t,r)=>{r.d(t,{t:()=>a});var o=r(661),n=r.n(o),a=n().t.bind(n())},187:e=>{var t,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,o){function n(r){e.removeListener(t,a),o(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}p(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,{once:!0})}(e,n)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function i(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,o){var n,a,s,l;if(c(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=o?[r,s]:[s,r]:o?s.unshift(r):s.push(r),(n=i(e))>0&&s.length>n&&!s.warned){s.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=e,_.type=t,_.count=s.length,l=_,console&&console.warn&&console.warn(l)}return e}function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var o={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=_.bind(o);return n.listener=r,o.wrapFn=n,n}function d(e,t,r){var o=e._events;if(void 0===o)return[];var n=o[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):E(n,n.length)}function S(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function E(e,t){for(var r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function p(e,t,r,o){if("function"==typeof e.on)o.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(a){o.once&&e.removeEventListener(t,n),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return i(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var i=a[e];if(void 0===i)return!1;if("function"==typeof i)o(i,this,t);else{var l=i.length,_=E(i,l);for(r=0;r<l;++r)o(_[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,u(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,u(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,o,n,a,s;if(c(t),void 0===(o=this._events))return this;if(void 0===(r=o[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(o[e]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,a=Object.keys(r);for(o=0;o<a.length;++o)"removeListener"!==(n=a[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):S.call(e,t)},a.prototype.listenerCount=S,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},782:e=>{e.exports=s},830:e=>{e.exports=c},292:e=>{e.exports=i},661:t=>{t.exports=e},444:e=>{e.exports=n},598:e=>{e.exports=r},383:e=>{e.exports=l},944:e=>{e.exports=_},855:e=>{e.exports=t},672:e=>{e.exports=a},459:e=>{e.exports=o}},d={};function S(e){var t=d[e];if(void 0!==t)return t.exports;var r=d[e]={exports:{}};return u[e](r,r.exports,S),r.exports}S.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return S.d(t,{a:t}),t},S.d=(e,t)=>{for(var r in t)S.o(t,r)&&!S.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},S.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),S.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var E={};return(()=>{S.r(E),S.d(E,{$tracker:()=>We,Blacklist:()=>T,CancelOrderWarning:()=>f,CustomError:()=>n,EventBus:()=>Qe,ExceptionName:()=>ae,Forbidden:()=>t,HTTPError:()=>A,InternalServerError:()=>O,Limiting:()=>d,MarkName:()=>oe,NeedCaptchaVerify:()=>g,NotFound:()=>_,ReportComponent:()=>ne,ReportPoint:()=>ye,TemporyError:()=>v,Unauthoried:()=>l,UnprocessableEntity:()=>u,UntrustedNetwork:()=>p,UnverifiedPhoneNumber:()=>h,Webview:()=>i,affiliateSchema:()=>Ze,agentConversationSchema:()=>it,clearApiCache:()=>G,collectAsyncTask:()=>De,collectComponentTask:()=>Pe,collectConversationLoadTask:()=>be,collectLoadTask:()=>Ce,configTrackerUser:()=>Be,contactsSchema:()=>lt,conversationSchema:()=>et,exceptionTag:()=>se,fetch:()=>He,getReportManager:()=>Se,getTranslation:()=>ht,initMDAPSdk:()=>we,isError:()=>R,isInServiceDownDuration:()=>H,mdapConfig:()=>Oe,messageSchema:()=>$e,messageShortcutsSchema:()=>st,normalize:()=>dt,offerSchema:()=>ot,orderSchema:()=>tt,productSchema:()=>rt,rateCardsSchema:()=>ct,reportApiTime:()=>Me,shopSchema:()=>at,shopService:()=>w,stickerSchema:()=>nt,userSchema:()=>Je,vouchersSchema:()=>_t});class e extends Error{constructor(e,t,r){super(e),this.name=this.constructor.name,this.errors=t,this.data=r}}class t extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name}handler(){}}var r=S(701).t,o=["unauthorized_for_shop","target_subaccount_unauthorized_for_shop","target_group_unauthorized_for_shop","conversation_not_belong_to_you","conversation_not_dispatch","cannot_move_conversation_to_yourself","target_subaccount_not_online","subaccount_conversation_not_found","conversation_closed"];class n extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name,this.handler=this.handler.bind(this)}handler(){var e="";if(o.includes(this.errors))e="forward.error.".concat(this.errors);else switch(this.errors){case"user_have_delete_disable":e="forward.error.user_deleted";break;case"user_has_pending_order":e="conversation_detail.workstation.block_fail_modal.title";break;case"too_many_requests_for_unique_fields":e="feedback_modal.too_many_requests_for_unique_fields";break;default:e="common.server_error.warning_tips"}return{show:!0,type:"fail",message:r(e)}}}var a=S(855),s=S(701).t,c={rating_card_expired:"conversation_detail.message_list.csat_expired",have_submited_csat:"conversation_detail.message_list.csat_have_submited",no_organic_within_24hr:"conversation_detail.message_list.csat_no_organic_within_24hr",send_rating_card_too_frequently:"conversation_detail.message_list.csat_send_rating_card_too_frequently",buyer_receiver_too_many_rating_card:"conversation_detail.message_list.csat_buyer_receiver_too_many_rating_card",buyer_active_feedback_off:"conversation_detail.message_list.csat_buyer_active_feedback_off",not_chat_with_agent:"conversation_detail.message_list.csat_not_chat_with_agent",have_received_rating_card_today:"conversation_detail.message_list.csat_have_received_rating_card_today",can_not_rate_now:"conversation_detail.message_list.csat_can_not_rate_now",can_not_rate_bot_now:"cast.error.can_not_rate_bot_now",bot_frequency_limit:"cast.error.bot_frequency_limit",not_chat_with_bot:"cast.error.not_chat_with_bot"};class i extends e{constructor(e,t,r){super(e,t,r),this.name=this.constructor.name}handler(e){var t,r=null!==(t=c[this.errors])&&void 0!==t?t:"common.server_error.warning_tips";"cast.error.can_not_rate_bot_now"===r&&(0,a.checkSpecialShops)(e)&&(r="".concat(r,"_idscs"));var o=s(r);if("buyer_receiver_too_many_rating_card"===this.errors){var n,i,l=null!==(n=null===(i=this.data)||void 0===i?void 0:i.limit)&&void 0!==n?n:"";o=s(c.buyer_receiver_too_many_rating_card,{count:l})}return{message:o,show:!0,type:"fail"}}}class l extends e{}class _ extends e{}class u extends e{}class d extends e{}class p extends e{}class v extends e{}class T extends e{}class f extends e{}class h extends e{}class O extends e{}class g extends e{}var A=e=>{switch(e){case 401:return l;case 403:return t;case 404:return _;case 422:return u;case 429:return d;case 451:return p;case 452:return v;case 491:return n;case 492:return T;case 493:return i;case 494:return f;case 495:return h;case 499:return g;case 500:return O;default:return Error}},R=e=>"".concat(e).startsWith("4")||"".concat(e).startsWith("5");function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r,o,n,a,s){try{var c=e[a](s),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(o,n)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function s(e){y(a,o,n,s,c,"next",e)}function c(e){y(a,o,n,s,c,"throw",e)}s(void 0)}))}}var b=S(598),P=S.n(b),D=S(459);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=new class{constructor(){this.shopsMap={}}updateShopMap(e){this.shopsMap=N(N({},this.shopsMap),e)}getRegion(e,t){var r=this;return C((function*(){if(t){var o,n=null===(o=r.shopsMap[t])||void 0===o?void 0:o.country;if(!n){var s=yield He({resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});return r.updateShopMap({[s.id]:s}),s.country}return n}var c=(0,a.getRuntimeRegion)().toUpperCase();return["KR","CN"].includes(c)||e?"GLOBAL":c}))()}};"live"!==(0,a.getRuntimeServer)()&&(window.shopService=w);var M=S(444),L=S.n(M),U="CHAT_API",G=()=>{window.caches&&window.caches.delete(U)};function F(e,t){return j.apply(this,arguments)}function j(){return(j=C((function*(e,t){try{var r=new URL(e).searchParams,o=r.get("need_cache"),n=r.get("force_update"),a=r.get("_ts"),s=t.method&&"get"===t.method.toLowerCase(),c="&csrf_token=".concat(encodeURIComponent(r.get("csrf_token")||"")),i="&force_update=".concat(String(n)),l=e.replace(c,"").replace(i,"").replace(a||"","");if(s&&o&&window.caches){var _=yield window.caches.open(U),u=yield _.match(l),d=Date.now();if(u){if(d<Number(u.headers.get("cache-expires"))&&!n)return u;yield _.delete(l)}var S=yield L()(e,t),E=S.clone();if(200===S.status){var p=[...S.headers.entries()],v={},T=d+1e3*(Number(r.get("cache_expires"))||3600),f=yield S.blob();p.forEach((e=>{v[e[0]]=e[1]})),v["cache-expires"]=T;var h=new Response(f,{headers:new Headers(v)});try{_.put(l,h)}catch(e){window.caches.delete(U)}}return E}return L()(e,t)}catch(r){return L()(e,t)}}))).apply(this,arguments)}var k=S(672),H=()=>{var e=window.__SERVICEDOWN_STATT_TIME__,t=window.__SERVICEDOWN_END_TIME__,r=void 0!==e&&void 0!==t,o=Math.ceil(Date.now()/1e3);return r&&o>=e&&o<=t},x=e=>{R(e)||!H()&&window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))},Y=(e,t)=>{var r=new(A(e))(t.message,t.errors||t.error_code||t.errcode,t.data);if(r)throw r},B=(e,t,r)=>{if(R(e)){var{uri:o,resource:n}=r,{error_code:s}=t||{};"br_site_is_close"===s&&(e=>{var t;H()?(t=e.split("?")[0]).endsWith("conversations")||t.endsWith("conversation/list")?window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,list:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!0,message:!0})):window.__CHAT_GLOBAL__.setServiceDownStatus&&k.store.dispatch(window.__CHAT_GLOBAL__.setServiceDownStatus({alert:!1,closed:!1,list:!1,message:!1}))})(o),[400,404].includes(e),[491,493].includes(e)?Y(e,t):401===e?((0,a.removeItem)("mini-session"),(0,a.removeItem)("mini-sc_redirect"),"login"===n&&Y(e,t)):Y(e,t)}},V=e=>{var{uri:t,id:r,parentId:o}=e;if(void 0!==r&&parseInt(r)<=0&&!t.includes("message_shortcuts/group")||void 0!==o&&parseInt(o)<=0)throw new Error},W=(e,t,r)=>{throw e||(t.offlineError=!0),t};function Q(e){return q.apply(this,arguments)}function q(){return q=C((function*(e){var t=e.getReader(),r=new TextDecoder,o=[];function n(){return a.apply(this,arguments)}function a(){return(a=C((function*(){var{done:e,value:a}=yield t.read();if(e)return JSON.parse(o.join(""));var s=r.decode(a,{stream:!0});return o.push(s),n()}))).apply(this,arguments)}return n()})),q.apply(this,arguments)}var z,K,X=S(782),J=S(830),Z=S.n(J),$=S(292),ee=S.n($),te={"18a6f08d7326025b60ded61f60c9ea20":"LOAD_HTML","0d2968a6996a60fee2db1270a70ef563":"LOAD_STATIC",ea02fc90bd3663f3179be7a1b7847a83:"APP_PREPARE","4e0b71ed91b3eacb1dfc4ec7f63b2966":"LOGIN_API","9d4a48b69fed6d1001e63ee668a05488":"LOGIN_SUCCEEDED","84fcedc144bfce212ae8db9f6ebb84ec":"SHOW_WEBCHAT"},re={"94a2f272c378ddf18f5c88f4e951c709":"SHOW_HOME_PAGE",a5707a9d6695fc50e257b51aee9ec03b:"LOAD_RESOURCE",dd25761ed961c46f4a0725abf6325b3a:"RENDER_HOME_PAGE","65d0f06861e011436277b54e32e0e702":"SEND_MESSAGE_API",b2bad090fbb5b6eb526af0423326ba91:"SEND_MESSAGE_CONSUMING","00f7d4cb0b968ed35a91ae83c0346fe1":"FETCH_CONV_API",b7b04ad90caccf19961c3dcdf7063294:"FETCH_MESSAGE_API","7ce993bd22dee11001514ad2b8e760bf":"RENDER_MESSAGE_LIST_FROM_CONV"};z={LOAD_HTML:"31b7f223943eee895738ce50e49a359a",LOAD_STATIC:"0ec7c5189cc4ada79908cfe5d6bd97ca",APP_PREPARE:"a61675f22b23600e51007c24a9b8aaf2",LOGIN_API:"75cbf76696b4f8d988de72cdfeb1877c",LOGIN_SUCCEEDED:"05c0e68ee42384c7e07e47fec4400e28",SHOW_WEBCHAT:"1b16553696a08e9f016235005a5a0678",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"334a26e8a6dc82c95a47430f8af2e198",SERVICE_DONE:"19f2ea17be2d1d80257667787e54c882",MESSAGE_SOCKET:"f76ebd29ea3ed4571c9ea48ca893ac14",READ_SOCKET:"37e5b36437f0166056d3312fcea2b592",LOGIN_FAILED:"df8a83f83c949bb6a2b84c6f0048e203",SOCKET_FAILED:"13ddf42d9169b2ce05feb84224d79057",SHARED_TABS:"94e8d83005c95982268ff1c8b036313e",LOGIN_IN_HTML:"4075993c600862e7c604e35cd692a297",LOGIN_IN_SERVICE:"2845ad2751849e3d43b26a805a25dbb4",PRE_FETCH_USER_INFO:"36a82dac2154de34fa4c6d7e3da73a19",NON_PRE_FETCH_USER_INFO:"a9de236c14047b42eec108bf7f22f2ac",TRANSLATION_IN_HTML:"b3105979b5cc6448de8272e177db5741",TRANSLATION_IN_SERVICE:"acfba493a8c2d11ad323bc09c2d06603",CONVERSATION_MOUNTED:"53ddb086a61674f59a9d84e1a02f04a5",CONVERSATION_LOADED:"800c5562450216bccfad6cd11847c160",RECEIVE_CHATBOT_RESPONSE:"a6f37d623af1c31b5ae3eb333fc571c8",REPORT_T3:"b16720c32b08d2c2b4b9cebb66205520",REPORT_T4:"20749fffb5583f720b3eacf5013c4398",REPORT_ERROR:"ce4cc92284f6ed31f8266c8e676744c5",MESSAGE_LATENCY:"4cb5dab311e98cba8ecb48c5e3df9e12",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c",RENDER_OLD_ENTRY:"34be4e989931224dfd8363a07ff0f896",RENDER_NEW_ENTRY:"99502b156aba4099d7e2fa2316f211cd",USER_SETTING:"6ec802950c6974b45c8a9080a70e7017",SEND_MESSAGES:"407610332f95a6a3bde8f720195f5a40"},K={LOAD_HTML:"18a6f08d7326025b60ded61f60c9ea20",LOAD_STATIC:"0d2968a6996a60fee2db1270a70ef563",APP_PREPARE:"ea02fc90bd3663f3179be7a1b7847a83",LOGIN_API:"4e0b71ed91b3eacb1dfc4ec7f63b2966",LOGIN_SUCCEEDED:"9d4a48b69fed6d1001e63ee668a05488",SHOW_WEBCHAT:"84fcedc144bfce212ae8db9f6ebb84ec",SHOW_HOME_PAGE:"94a2f272c378ddf18f5c88f4e951c709",VIDEO_UPLOAD:"cc0dbd7370b7ade934cfe7c01bbd4ae9",SERVICE_DONE:"26ba92fb54150fe3bd6f827bb08ce8c9",MESSAGE_SOCKET:"a01882e94fde5237ca815e13b0e2a88b",READ_SOCKET:"e46fdcb42cae43a7e6f49213f150fa8e",LOGIN_FAILED:"87df9f73fb8b93629ae8a08822cfcf77",SOCKET_FAILED:"3a74221d64cf853a5c3ca65c3c3339eb",SHARED_TABS:"22557ca0a2caca6bae43f1932f088d47",LOAD_RESOURCE:"a5707a9d6695fc50e257b51aee9ec03b",RENDER_HOME_PAGE:"dd25761ed961c46f4a0725abf6325b3a",SEND_MESSAGE_API:"65d0f06861e011436277b54e32e0e702",SEND_MESSAGE_CONSUMING:"b2bad090fbb5b6eb526af0423326ba91",FETCH_CONV_API:"00f7d4cb0b968ed35a91ae83c0346fe1",FETCH_MESSAGE_API:"b7b04ad90caccf19961c3dcdf7063294",RENDER_MESSAGE_LIST_FROM_CONV:"7ce993bd22dee11001514ad2b8e760bf",FETCH_TRANSLATION_ASYNC:"961879cce46dc871cea546c825daf31d",FETCH_TRANSLATION_SYNC:"9f3d370e38d01f43e13f3e7465c1734c"};var oe={HTML_LOADED:"HTML_LOADED",STATIC_LOADED:"STATIC_LOADED",APP_PREPARED:"APP_PREPARED",LOGIN_API_RESPONSED:"LOGIN_API_RESPONSED",APP_RENDERING:"APP_RENDERING",RENDER_CONVERSATION_LIST:"RENDER_CONVERSATION_LIST",RENDER_MESSAGE_LIST:"RENDER_MESSAGE_LIST",RENDER_WELCOME_PAGE:"RENDER_WELCOME_PAGE",START_SEND_MESSAGE:"START_SEND_MESSAGE",START_HANDLE_RESPONSE:"START_HANDLE_RESPONSE"},ne={WELCOME_PAGE:"WELCOME_PAGE",MESSAGE_LIST:"MESSAGE_LIST",CONVERSATION_LIST:"CONVERSATION_LIST",APP:"APP"},ae={TYPE_ERROR:"TypeError",RANGE_ERROR:"RangeError",SYNTAX_ERROR:"SyntaxError",REFERENCE_ERROR:"ReferenceError",SAGA_ERROR:"Saga Error",ERROR_BOUNDARY:"Error Boundary",PRELOAD_ERROR:"Preload Error",SOCKET_LOGIN_FAILED:"Socket Login Failed",LOGIN_ERROR:"Login Error",PARAMETER_ERROR:"Parameter Error",API_UNCAUGHT_ERROR:"Api Uncaught Error",API_CLIENT_ERROR:"Api Client Error",FETCH_CONV_ERROR:"Fetch Conversation Error",FETCH_SERVE_TODAY_CONV_ERROR:"Fetch Serve Today Conversation Error"},se={TYPE_ERROR:"type_error",RANGE_ERROR:"range_error",SYNTAX_ERROR:"syntax_error",REFERENCE_ERROR:"reference_error",ERROR_BOUNDARY:"error_boundary",PRELOAD_ERROR:"preload_error",SOCKET_LOGIN_FAILED:"socket_login_failed",LOGIN_ERROR:"login_error",PARAMETER_ERROR:"parameter_error",API_CLIENT_ERROR:"api_client_error",API_UNCAUGHT_ERROR:"api_uncaught_error",FETCH_CONV_ERROR:"fetch_conversation_error",FETCH_SERVE_TODAY_CONV_ERROR:"fetch_serve_today_conversation_error"},{TYPE_ERROR:ce,RANGE_ERROR:ie,SYNTAX_ERROR:le,REFERENCE_ERROR:_e}=ae;se.TYPE_ERROR,se.RANGE_ERROR,se.SYNTAX_ERROR,se.REFERENCE_ERROR;class ue{reportLoadResource(){De(ye.LOAD_RESOURCE,0)}reportRenderHomePage(e){De(ye.RENDER_HOME_PAGE,0,{isSidebar:e})}reportShowHomePage(e){if(window.__MINICHAT_ENTRY_CLICKED__){var{startTime:t,fromPage:r}=window.__MINICHAT_ENTRY_CLICKED__,o=Date.now()-t;window.__MINICHAT_ENTRY_CLICKED__=void 0,e?setTimeout((()=>{Pe(ne.APP,{duration:o,id:ye.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}),1e3):Pe(ne.APP,{duration:o,id:ye.SHOW_HOME_PAGE,extra:{isSidebar:e,fromPage:r}})}}reportWhetherPrefetchUserInfo(){window.__CHATEASY_LOCALE__?De(ye.PRE_FETCH_USER_INFO,0):De(ye.NON_PRE_FETCH_USER_INFO,0)}reportShowMinichat(){var e=Date.now()-window.__START_MINICHAT__;Pe(ne.APP,{duration:e,id:ye.SHOW_WEBCHAT})}reportFetchTranslationAsync(){De(ye.FETCH_TRANSLATION_ASYNC,0)}reportFetchTranslationSync(){De(ye.FETCH_TRANSLATION_SYNC,0)}reportUserSettingApi(e){ye.USER_SETTING&&De(ye.USER_SETTING,e)}newReportSendMessagesApi(e){ye.SEND_MESSAGES&&De(ye.SEND_MESSAGES,e)}reportSendMessageApi(e){De(ye.SEND_MESSAGE_API,0,{value:e})}reportSendMessageConsuming(e){var t,r,o=null===(t=(performance.getEntriesByName("".concat(oe.START_SEND_MESSAGE,"_").concat(null===(r=JSON.parse(e).content)||void 0===r?void 0:r.uid),"mark")||[])[0])||void 0===t?void 0:t.startTime,n=Date.now()-Math.round(performance.timeOrigin+o);Pe(ne.APP,{duration:n,id:ye.SEND_MESSAGE_CONSUMING})}reportFetchConvApi({value:e,resource:t}){De(ye.FETCH_CONV_API,0,{value:e,resource:t})}reportFetchMessageApi(e){De(ye.FETCH_MESSAGE_API,0,{value:e})}reportRenderMessageListFromConv(e){window.__CLICK_CONV__&&(Pe(ne.APP,{duration:Date.now()-window.__CLICK_CONV__,id:ye.RENDER_MESSAGE_LIST_FROM_CONV,extra:{isFirstRender:e}}),window.__CLICK_CONV__=null)}reportVideoUpload(e,t={}){De(ye.VIDEO_UPLOAD,performance.now()-e,t)}reportVideoServiceDone(e,t={}){var r=performance.getEntriesByName("REPORT_UPLOAD_".concat(e),"mark")[0];if(r){performance.mark("SERVICE_DONE_".concat(e));var o=performance.getEntriesByName("SERVICE_DONE_".concat(e))[0].startTime-r.startTime;performance.clearMarks("REPORT_UPLOAD_".concat(e)),performance.clearMarks("SERVICE_DONE_".concat(e)),De(ye.SERVICE_DONE,o,t)}}reportMessageSocket(e){var t=+new Date-+e;De(ye.MESSAGE_SOCKET,t)}reportReadSocket(e){De(ye.READ_SOCKET,Date.now()-e)}reportLoginFailed(e){De(ye.LOGIN_FAILED,0,e)}reportSocketFailed(e={}){De(ye.SOCKET_FAILED,0,e)}reportSharedTabs(e){De(ye.SHARED_TABS,e)}reportLoginInHtml(){De(ye.LOGIN_IN_HTML,0)}reportLoginInService(){De(ye.LOGIN_IN_SERVICE,0)}reportFetchTranslationInHtml(){De(ye.TRANSLATION_IN_HTML,0)}reportFetchTranslationInService(){De(ye.TRANSLATION_IN_SERVICE,0)}reportT3OrT4(e){De(e,0)}reportChatbotApiError(){De(ye.REPORT_ERROR,0)}reportAsyncTask(e,t,r={}){De(e,t,r)}reportReceiveChatbotResponse(){De(ye.RECEIVE_CHATBOT_RESPONSE,0)}}var de,Se=()=>(window.chatReportManager||(window.chatReportManager=new ue),window.chatReportManager);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve,Te,fe,he,Oe=e=>{de=e},ge=!1,Ae=location.host.includes("shopee.cn"),Re=[],me=window.requestIdleCallback,ye="live"===(0,a.getRuntimeServer)()?z:K,Ce=()=>{try{var e=performance.getEntriesByName(oe.HTML_LOADED,"mark")[0].startTime,t=performance.getEntriesByName(oe.STATIC_LOADED,"mark")[0].startTime,r=performance.getEntriesByName(oe.APP_PREPARED,"mark")[0].startTime,o=performance.getEntriesByName(oe.LOGIN_API_RESPONSED,"mark")[0].startTime,n=performance.getEntriesByName(oe.APP_RENDERING,"mark")[0].startTime;Re.push({id:ye.LOAD_HTML,duration:window.__INDEX_HTML_LOADED__},{id:ye.LOAD_STATIC,duration:Math.floor(t-e)},{id:ye.APP_PREPARE,duration:Math.floor(r-t)},{id:ye.LOGIN_API,duration:Math.floor(o-r)},{id:ye.LOGIN_SUCCEEDED,duration:Math.floor(n-o)})}catch(e){}},be=()=>{try{var e=performance.getEntriesByName("ENTRY_CLICKED","mark")[0].startTime,t=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime,r=performance.getEntriesByName("CONVERSATION_LIST_MOUNTED","mark")[0].startTime;ye.CONVERSATION_MOUNTED&&e&&t&&Re.push({id:ye.CONVERSATION_MOUNTED,duration:Math.floor(t-e)}),ye.CONVERSATION_LOADED&&t&&r&&Re.push({id:ye.CONVERSATION_LOADED,duration:Math.floor(r-t)})}catch(e){}},Pe=(e,t)=>{try{var r,o=null,n=null===(r=performance.getEntriesByName(oe.APP_RENDERING,"mark")[0])||void 0===r?void 0:r.startTime;switch(e){case ne.WELCOME_PAGE:o=performance.getEntriesByName(oe.RENDER_WELCOME_PAGE,"mark")[0].startTime,Re.push({id:ye.RENDER_WELCOME_PAGE,duration:Math.floor(o-n)});break;case ne.MESSAGE_LIST:o=performance.getEntriesByName(oe.RENDER_MESSAGE_LIST,"mark")[0].startTime,Re.push({id:ye.RENDER_MESSAGE_LIST,duration:Math.floor(o-n)});break;case ne.CONVERSATION_LIST:o=performance.getEntriesByName(oe.RENDER_CONVERSATION_LIST,"mark")[0].startTime,Re.push({id:ye.RENDER_CONVERSATION_LIST,duration:Math.floor(o-n)})}Re.push(t),me(Ie,{timeout:2e3})}catch(e){}},De=(e,t,r={})=>{try{Re.push({id:e,duration:t,extra:r}),me(Ie,{timeout:2e3})}catch(e){}};function Ie(e){for(;(e.timeRemaining()>5||e.didTimeout)&&Re.length;){var{id:t,duration:r,extra:o}=Re.shift();t&&Me(t,r,o),"live"!==(0,a.getRuntimeServer)()&&te[t]&&console.log("|-- 上报阶段: ",te[t],", 耗时为: ".concat(r),", 数据: ",o),re[t]&&console.log("|-- 新加上报点上报阶段: ",re[t],", 耗时为: ".concat(r,", 数据："),o)}Re.length&&me(Ie,{timeout:2e3})}var Ne,we=()=>{if(!ge){var e=(0,a.getRuntimeServer)(),t="live"===e,r=(0,a.getRuntimeRegion)(),o=(0,a.getRuntimeVersion)();ve=new X.MdapSdk({app_name:"minichat",secret_key:t?"b23651c629e54c7bc1c9a743f25dbb5825cb1ed4e7bb7f8a78cd788dfc769127":"2b74d02be173856bde260473166da16b83fcc18d18057ce8b4a73eab5f1c7280",environment:e,region:r,app_version:o,sample:.6}),Te=new(Z())({path:[/[\\/]webchat[\\/]api[\\/].*[\\/](login|(conversations[\\/](\d+)[\\/]messages)|conversations|orders_by_buyer_id|vouchers|products|items|(offer[\\/]given)|read|(video[\\/](in_whitelist|preupload|report_upload|upload_status)))[\\?]/,"/webchat/api/v1.2/messages","webchat/api/v1.2/mini/messages",/[\\/]api[\\/]tsp[\\/].*/]}),fe=new(ee())({path:[/.*[\\/]chateasy[\\/].*\.(js|css)/]}),he=new X.CustomPlugin({}),ve.use(Te),ve.use(fe),ve.use(he),ge=!0}};function Me(e,t,r){ge||we();var o={point_id:e,data:{userType:de,localOrCn:void 0!==Ne?Ne:Ne=Ae&&"CN"!==(0,a.getRuntimeRegion)().toUpperCase()?"cn":"local",chatHost:"pcmall",hasSandbox:String(!!window.__MMF_MODULE_BY_SANDBOX__)}};t&&(o=pe(pe({},o),{},{duration:t})),r&&(o.data=pe(pe({},o.data),r)),he.sendData(o)}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge=(0,a.getRuntimeVersion)(),Fe=function(){var e=C((function*(){var e=null;try{e=a.LS.getItem("mini-session",!0)}catch(t){e=null}return e||(e=yield(0,a.getItem)("mini-session")),e}));return function(){return e.apply(this,arguments)}}(),je={404:"Resource not found",452:"Tempory Error",500:"Internal server error",502:"Bad Gateway"},ke=90309999;function He(e){return xe.apply(this,arguments)}function xe(){return xe=C((function*({url:e,server:t,subServer:r,version:o="v1.2",parent:n,parentId:s,resource:c,id:i,suffix:l,method:_="GET",credentials:u="include",extension:d,params:S={},payload:E,headers:p={},namespace:v="mini",fetcher:T}){var f=(e,t)=>[e,Object.entries(t).filter((([e,t])=>t||0===t)).map((([e,t])=>"".concat(e,"=").concat(encodeURIComponent(t)))).join("&")].filter(Boolean).join("?"),h=function(){var h=C((function*(h){h||(h=yield Fe());var O,g,A,{token:R,user:{type:m}={}}=h||{},y=0;if("subaccount"===m){var C=(()=>{if("sc"===l)return i;if("auth"===c)return s;if(S.shop_id)return S.shop_id;if(E)try{return JSON.parse(E).shop_id}catch(e){}})();A=yield w.getRegion(!0,C)}else A=(0,a.getRuntimeRegion)().toUpperCase();var b=R&&"include"===u||!t,I=b?{Authorization:"Bearer ".concat(R),"x-shop-region":A}:{};!t&&(t=(0,a.getApiServer)());var N=(()=>{var e=P().get("SPC_CDS_CHAT");if(!e){e=(0,D.v4)();var t=window.location.host.split(".");["seller","banhang"].includes(t[0])&&t.shift(),P().set("SPC_CDS_CHAT",e,{domain:".".concat(t.join("."))})}return e})();if(e){g=e;var M={};N&&(M.SPC_CDS_CHAT=N),g=f(g,M)}else{var L=["https:/",t,r,o,v,n,s,c,i,l].filter(Boolean).join("/"),U=d?"".concat(L,".").concat(d):L;((e,{session:t,shouldAddHeader:r,region:o,spcToken:n})=>{var a,s=null==t||null===(a=t.user)||void 0===a?void 0:a.uid;s&&(e._uid=s),Ge&&(e._v=Ge);var c=P().get("CTOKEN");c&&(e.csrf_token=c),n&&(e.SPC_CDS_CHAT=n),r&&(e["x-shop-region"]=o),e._api_source="pcmall"})(S,{session:h,shouldAddHeader:b,region:A,spcToken:N}),g=f(U,S)}try{var G;V({uri:g,id:i,parentId:s});var j,k,H=Date.now(),q={method:_,credentials:u,headers:Ue(Ue({},I),p),body:E},z=T||F,K=yield z(g,q);if(y="number"==typeof K.status?K.status:(null===(G=K.__raw)||void 0===G?void 0:G.status)||200,T&&200===y&&E){var X=Se();null==X||X.reportSendMessageConsuming(E)}if(T?K.error===ke?Y(y=499,{message:"need captcha",errcode:y,data:null}):y=(null===(k=K.__raw)||void 0===k?void 0:k.status)||200:y=K.status,[200,204].includes(y)&&"report_upload"===c&&E){var{vid:J}=JSON.parse(E);performance.mark("REPORT_UPLOAD_".concat(J))}if(x(y),200===y){var Z=null;try{Z=yield K.json()}catch(e){Z=K}var $=Z instanceof Array?{[c]:Z}:Z;return T&&E&&(O=JSON.parse(E).request_id,(0,a.setItem)(O,H)),$}if(204===y)return null;switch(y){case 404:case 452:case 500:case 502:j={message:je[y]};break;default:if(T)try{var ee;j=yield Q(null==K||null===(ee=K.__raw)||void 0===ee?void 0:ee.body)}catch(e){j={message:"Server Error"}}else j=yield K.json()}B(y,j,{uri:g,resource:c})}catch(e){W(y,e)}}));return function(e){return h.apply(this,arguments)}}();return h(window.__WEBCHAT_SESSION__)})),xe.apply(this,arguments)}var Ye=null,Be=e=>{e&&(Ye=e)},Ve=null,We=({data:e,operation:t=a.TrackerOperation.CLICK,page:r,shopId:o,section:n="",type:s=""})=>{try{Ve||(Ve=window.BITrack?window.BITrack:window.trackingSDK);var c=(({data:e,operation:t,page:r,shopId:o,section:n,type:a})=>{var{shop_id:s="",role:c="",id:i=""}=Ye||{};return{operation:t,page_section:n,target_type:a,page_type:r||"minichat_page",data:Object.assign({},{shopid:s||o,account_type:c||"shopee_user",account_id:i},e)}})({data:e,operation:t,page:r,shopId:o,section:n,type:s});Ve({data:{type:"v3",timestamp:Date.now(),info:c}})}catch(e){console.warn("Tracker error",e)}},Qe=new(S(187).EventEmitter),qe=S(383);function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe=(e,t,r)=>new qe.schema.Entity(e,Ke({},t),Ke({},r)),Je=Xe("users"),Ze=Xe("affiliate"),$e=Xe("messages"),et=Xe("conversations"),tt=Xe("orders"),rt=Xe("products"),ot=Xe("offers"),nt=Xe("stickers"),at=Xe("shops"),st=Xe("messageShortcuts"),ct=Xe("rateCards"),it=Xe("agentConversations"),lt=Xe("contacts",{},{idAttribute:"account_id"}),_t=Xe("vouchers"),ut={users:Je,affiliate:Ze,messages:$e,conversations:et,orders:tt,offers:ot,products:rt,stickers:nt,shops:at,messageShortcuts:st,rateCards:ct,agentConversations:it,contacts:lt,vouchers:_t};const dt=(e,t)=>{var r=ut[e]||Xe(e);return t instanceof Array?(0,qe.normalize)(t,[r]):(0,qe.normalize)(t,r)};var St,Et=S(944),pt=[];St=[202,215];var vt="https://seller.shopee.sg/api/tsp";"br"===(0,a.getRuntimeRegion)()&&(vt="https://seller.shopee.com.br/api/tsp"),"live"!==(0,a.getRuntimeServer)()&&(vt+="/nonlive");var Tt=(e,t)=>{var r=St.includes(e)?"c":"r",o=(t||"").toLocaleLowerCase(),n="".concat((0,a.getCDNUrl)(),"shopee-seller-live-sg/tsp/api/").concat(r,"_").concat(e,"_").concat(o,".json");return L()(n).then(function(){var e=C((function*(e){return yield e.json()}));return function(t){return e.apply(this,arguments)}}())},ft=e=>{var t="".concat(vt,"/init?language=").concat(e,"&collections=202%3B215");return L()(t).then(function(){var e=C((function*(e){return yield e.json()}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{}))};function*ht({locale:e}){var t={},r=yield(0,Et.call)(ft,e),o=null==r?void 0:r.translations;if((0,a.checkEmptyObject)(o)||(0,a.checkEmptyObject)(o.collection)||Object.keys(o.collection).forEach((e=>{t=Object.assign(t,o.collection[e])})),(0,a.checkEmptyObject)(t)){var n=[];St.concat(pt).forEach((t=>{n.push(Tt(t,e))})),(yield(0,Et.all)(n)).forEach((e=>{Object.assign(t,e)}))}return t}})(),E})(),e.exports=o(r(58518),r(29494),r(36808),r(67429),r(94301),r(44900),r(59065),r(67677),r(58397),r(82677),r(34857))},96961:function(e,t,r){"use strict";e.exports=r(27830)},78232:function(e,t,r){var o;o=(e,t,r,o,n)=>(()=>{"use strict";var a={383:t=>{t.exports=e},975:e=>{e.exports=t},511:e=>{e.exports=o},644:e=>{e.exports=n},855:e=>{e.exports=r}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return a[e](r,r.exports,c),r.exports}c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{c.r(i),c.d(i,{activeListTabSelector:()=>u,allChatExcludeAllBuyersConversationIdsSelector:()=>x,allChatsConversationsSelector:()=>Nt,allConversationIdsSelector:()=>Q,assistantHighlightSelector:()=>h,autoRepliedHighlightConvIdSelector:()=>g,autoRepliedHighlightSelector:()=>T,autoTranslationStatusSelector:()=>Ct,bannerInfoSelector:()=>ee,bizIdSelector:()=>De,bizIdsSelector:()=>Ne,buyerToPayConversationsSelector:()=>Dt,changeChatWithTypeSelector:()=>Ie,chatWithIhsSelector:()=>_e,chatWithTypeSelector:()=>V,chatbotConversationIdSelector:()=>p,chatbotConversationSelector:()=>F,confirmBannerInfoSelector:()=>te,conversationBeenDeletedSelector:()=>rt,conversationDirectionSelector:()=>pe,conversationHttpStatusSelector:()=>Ee,conversationIdsSelector:()=>Y,conversationLastMessageIdSelector:()=>Zt,conversationLastMessageSelector:()=>Jt,conversationsSelector:()=>ve,curConvsMessageSelector:()=>lr,curMessagesRelatedSelector:()=>Kt,currentBuyerIdSelector:()=>we,currentBuyerSelector:()=>ze,currentBuyerShopIdSelector:()=>Ke,currentBuyerShopSelector:()=>Xe,currentConversationBuyerIdSelectors:()=>xe,currentConversationCanReadSelector:()=>Se,currentConversationDueStatusTagSelector:()=>er,currentConversationIdSelector:()=>J,currentConversationSelector:()=>Ce,currentConversationShopIdSelectors:()=>ke,currentConversationShopNameSelectors:()=>je,currentConversationShopRegionSelectors:()=>Fe,currentConversationShopSelectors:()=>Ge,currentConversationStatusSelectors:()=>Ye,currentConversationStatusTagSelector:()=>$t,currentConversationToNameSelector:()=>ot,currentConversationTranslationAccessSelector:()=>et,currentPendingOffersCountSelector:()=>lt,currentSellerAccountIdSelector:()=>dt,currentShopIdSelector:()=>qe,currentShopIsManagedByShopeeSelector:()=>He,degradeConversationIdsSelector:()=>ge,feedbackSelector:()=>pr,filterSelector:()=>Ae,filteredConversationsSelector:()=>Re,folderViewHttpStatusSelector:()=>wt,getConversation:()=>Be,getConversationBizId:()=>Ve,getConversationPendingOffersCountSelector:()=>_t,getConversationShopId:()=>We,getConversationShopRegion:()=>ut,getConversations:()=>Qe,getConversationsSelector:()=>M,getConvsMessagesRelatedSelector:()=>Xt,getMessageSelector:()=>zt,hasPinFlagSelector:()=>m,highlightStatusSelector:()=>v,ihcsEntitySelector:()=>se,ihsDisableTextSelector:()=>de,inlocationSelector:()=>K,inquiryWithoutOrderConversationsSelector:()=>It,isAffiliateChatRoomSelector:()=>Ue,isBuyerChatRoomSelector:()=>Me,isChatAvailiableSelector:()=>$,isDriverSelector:()=>Z,isNavigateToUnreadMessageSelector:()=>st,isNormalBuyerSelector:()=>W,isOfficialChatSelector:()=>be,keywordSelector:()=>Je,lastBuyerSendMessageIdSelector:()=>Sr,listsHashSelector:()=>tt,mediaListSelector:()=>Er,messagesRelatedMapSelector:()=>Vt,missedReadNoticeCountSelector:()=>z,navigateToUnreadMessageIdSelector:()=>ct,needShowConfirmBannerSelector:()=>re,noticesCountSelector:()=>Tr,openFolderSelector:()=>H,pinnedConversationIdsSelector:()=>B,productTopBannerInfoSelector:()=>oe,productTopBannerIsCollapseSelector:()=>ae,readRequestIdsSelector:()=>q,reconnectFlagSelector:()=>vr,redirectionInfoSelector:()=>Tt,replyToMessageSelector:()=>dr,resultsSelector:()=>Ze,reverseMessagesSelector:()=>ar,rrButtonSelector:()=>Ot,searchConversationHttpStatusSelector:()=>$e,selectVideoInfoByKey:()=>Qt,selectVideoInfoKeyByVid:()=>qt,serveTodayAllConversationIdsSelector:()=>w,serveTodayAutoRepliedConversationIdsSelector:()=>I,serveTodayAutoRepliedConversationsSelector:()=>U,serveTodayConversationHttpStatusSelector:()=>y,serveTodayConversationsSelector:()=>j,serveTodayFolderStatusSelector:()=>d,serveTodayManuallyRepliedConversationIdsSelector:()=>N,serveTodayManuallyRepliedConversationsSelector:()=>G,serveTodayOnlyConversationsSelector:()=>k,serveTodayPinnedConversationIdsSelector:()=>P,serveTodaySingleFolderStatusSelector:()=>S,serveTodayUnrepliedConversationIdsSelector:()=>D,serveTodayUnrepliedConversationsSelector:()=>L,serveTodayWaitingUpdatedRecordsSelector:()=>R,shopAccessSelector:()=>at,shopIsIhcsSelector:()=>ce,showAssistantAlertSelector:()=>bt,showAssistantHighlightSelector:()=>yt,showAutoReplyHighlightSelector:()=>Rt,showBotBannerTextSelector:()=>Pt,showChatbotConversationSelector:()=>ye,showCollapsePartSelector:()=>ne,showHighlightAreaSelector:()=>gt,showLoadingMessagesMapSelector:()=>vt,showOnboardingAnimationSelector:()=>At,showOnboardingAnimationStatusSelector:()=>A,showUnrepliedHighlightSelector:()=>mt,showWorkStationSelector:()=>Le,singleConversationIdsSelector:()=>b,singleConversationMarkInfoSelector:()=>pt,singleConversationStateSelector:()=>C,singleFolderStatusSelector:()=>E,sortedConversationsSelector:()=>me,subAccountBizIdSelector:()=>Pe,subAccountToIsIhcsSelector:()=>ue,toShopIsIhcsSelector:()=>ie,toShopisChoiceOrIsIhcsSelector:()=>ht,toUserChattingWithIhsSelector:()=>le,totalConversationsCountSelector:()=>St,twoTabsAllConversationIdsSelector:()=>ft,unrepliedHighlightSelector:()=>f,unrepliedHightlightConvIdSelector:()=>O,updateTimeNowSelector:()=>X});var e=c(383),t=c(975),r=c(855),o=c(511),n=c(644);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.serveToday)||{}},u=(0,t.createSelector)(_,(e=>e.activeListTab)),d=(0,t.createSelector)(_,(e=>e.folderStatus)),S=(0,t.createSelector)(_,(e=>e.serveTodaySingleFolderStatus)),E=(0,t.createSelector)(_,(e=>e.singleFolderStatus)),p=(0,t.createSelector)(_,(e=>e.chatbotConversationId||0)),v=(0,t.createSelector)(_,(e=>e.highlightStatus)),T=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightStatus)||!1})),f=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightStatus)||!1})),h=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.assistantHighlightStatus)||!1})),O=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.unrepliedHighlightConvId)||0})),g=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.autoRepliedHighlightConvId)||0})),A=(0,t.createSelector)(_,(e=>{var t;return(null===(t=e.highlightStatus)||void 0===t?void 0:t.showOnboardingAnimationStatus)||!1})),R=(0,t.createSelector)(_,(e=>e.waitingUpdatedRecords||{})),m=(0,t.createSelector)(_,(e=>e.hasPinFlag||!1)),y=(0,t.createSelector)(_,(e=>e.status||"")),C=e=>(0,t.createSelector)(_,(t=>t[e]||{})),b=e=>(0,t.createSelector)(C(e),(e=>Array.from(new Set(e.conversationIds||[])))),P=(0,t.createSelector)(_,(e=>Array.from(new Set((e[r.ServeTodayTab.PINNED]||{}).conversationIds||[])))),D=(0,t.createSelector)(_,(e=>Array.from(new Set((e[r.ServeTodayTab.UNREPLIED]||{}).conversationIds||[])))),I=(0,t.createSelector)(_,(e=>Array.from(new Set((e[r.ServeTodayTab.AUTOREPLY]||{}).conversationIds||[])))),N=(0,t.createSelector)(_,(e=>Array.from(new Set((e[r.ServeTodayTab.MANUALREPLY]||{}).conversationIds||[])))),w=(0,t.createSelector)(P,D,I,N,((e,t,r,o)=>[...e,...t,...r,...o])),M=r=>(0,t.createSelector)(o.conversationEntitiesSelector,b(r),((t,r)=>((0,e.denormalize)(r,[n.conversationSchema],{conversations:t})||[]).filter(Boolean))),L=(0,t.createSelector)(M(r.ServeTodayTab.UNREPLIED),(e=>(e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),e))),U=(0,t.createSelector)(M(r.ServeTodayTab.AUTOREPLY),(e=>e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))))),G=(0,t.createSelector)(M(r.ServeTodayTab.MANUALREPLY),(e=>e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))))),F=(0,t.createSelector)(o.conversationEntitiesSelector,p,((t,r)=>(0,e.denormalize)(r,n.conversationSchema,{conversations:t})||{})),j=(0,t.createSelector)(F,d,S,M(r.ServeTodayTab.PINNED),L,U,G,o.permissionsSelector,((e,t,o,n,a,s,c,i)=>{var _=[],{chatbotToggleOpen:u,chatListRevamp:d}=i||{},S={[r.ServeTodayTab.PINNED]:n,[r.ServeTodayTab.UNREPLIED]:a,[r.ServeTodayTab.AUTOREPLY]:s,[r.ServeTodayTab.MANUALREPLY]:c},E=n.map((e=>e.id))||[];return(u?r.ServeTodayFolders:r.ServeTodayFolders.filter((e=>e!==r.ServeTodayTab.AUTOREPLY))).forEach((e=>{var n=S[e];e!==r.ServeTodayTab.PINNED&&(n=n.filter((e=>!E.includes(e.id))),e===r.ServeTodayTab.AUTOREPLY&&(n=n.map((e=>l(l({},e),{},{isAutoReply:!0}))))),n.length&&(_=(d?o===e:t[e])?_.concat([{key:e,id:"".concat(e,"Tab")},...n]):_.concat([{key:e,id:"".concat(e,"Tab")}]))})),null!=e&&e.id?[e,..._]:_})),k=(0,t.createSelector)(j,(e=>e.filter((e=>!e.id.includes("Tab"))))),H=(0,t.createSelector)(o.permissionsSelector,u,S,E,((e,t,r,o)=>{var{chatListRevamp:n,showServingTab:a}=e,s=a?t:"all";return n?"today"===s&&!r||"all"===t&&!o?null:{today:{key:r,id:"".concat(r,"Tab")},all:{key:o,id:"".concat(o,"Tab")}}[s]:null})),x=(0,t.createSelector)(b(r.ServeTodayTab.BUYER_TO_PAY),b(r.ServeTodayTab.INQUIRY_WITHOUT_ORDER),((e,t)=>Array.from(new Set([...e,...t])))),Y=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationIds)||[]},B=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pinnedConversationIds)||[]},V=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.chatWithType)||r.ChatWithTypeEnum.Buyer},W=(0,t.createSelector)(V,(e=>e===r.ChatWithTypeEnum.Buyer)),Q=(0,t.createSelector)(Y,B,x,o.permissionsSelector,W,((e,t,r,o,n)=>{var a=e.filter((e=>!t.includes(e)));return null!=o&&o.chatListRevamp&&n?Array.from(new Set(t.concat([...a,...r]))):t.concat(a)})),q=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.readRequestIds)||[]},z=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.missedReadNoticeCount)||0},K=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.inlocation)||!1},X=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.updateTimeNow)||"0"},J=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationId)||null},Z=(0,t.createSelector)(V,(e=>e===r.ChatWithTypeEnum.Driver)),$=e=>{var t;return null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isChatAvailiable},ee=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.topBannerInfo)||{}},te=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.confirmBannerInfo)||{}},re=(0,t.createSelector)(o.permissionsSelector,te,((e,t)=>(null==e?void 0:e.showConfirmBanner)&&[r.BannerTypeEnum.UPDATE_PRODUCT,r.BannerTypeEnum.UPDATE_ORDER].includes(null==t?void 0:t.bannerType))),oe=(0,t.createSelector)(ee,(e=>(null==e?void 0:e.productBannerInfo)||{})),ne=(0,t.createSelector)(ee,(e=>{var t;return(null==e?void 0:e.bannerType)===r.BannerTypeEnum.UPDATE_PRODUCT&&!(null==e||null===(t=e.productBannerInfo)||void 0===t||!t.product_name)})),ae=(0,t.createSelector)(oe,(e=>null==e?void 0:e.collapse)),se=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.ihcsEntity)||{}},ce=(0,t.createSelector)(se,(e=>e.shop_is_ihcs)),ie=(0,t.createSelector)(se,(e=>e.to_shop_is_ihcs)),le=(0,t.createSelector)(se,(e=>e.to_user_chatting_with_ihs)),_e=(0,t.createSelector)(ce,le,((e,t)=>!e&&t)),ue=(0,t.createSelector)(o.isSubAccountSelector,ie,((e,t)=>e&&t)),de=(0,t.createSelector)(ce,_e,ue,((e,t,r)=>{var o="";return e?o="conversation_detail.input_field.self_is_internal_shop":r?o="conversation_detail.input_field.subaccount_chat_with_internal_shop":t&&(o="conversation_detail.input_field.user_chat_with_ihs"),o})),Se=e=>{var t;return(0,o.judgeUndefined)({defaultValue:!0,value:null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.currentConversationCanRead})},Ee=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.status)||""},pe=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.direction)||""},ve=(0,t.createSelector)(o.conversationEntitiesSelector,Q,((t,r)=>((0,e.denormalize)(r,[n.conversationSchema],{conversations:t})||[]).filter(Boolean))),Te=(0,t.createSelector)(ve,J,((e,t)=>e.filter((e=>{var{id:r,unread_count:o}=e;return e&&(o>0||r===t)})))),fe=(0,t.createSelector)(ve,(e=>e.filter((e=>e.isPinned)))),he=(0,t.createSelector)(ve,(e=>e.filter((e=>e.status&&"closed"===e.status)))),Oe=(0,t.createSelector)(ve,J,((e,t)=>e.filter((e=>{var{unreplied:r,id:o}=e;return void 0===r||r||!r&&o===t})))),ge=(0,t.createSelector)(ve,(e=>e.filter((e=>e.lack)).map((e=>e.id))||[])),Ae=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.filter)||"All"},Re=(0,t.createSelector)(Ae,ve,Te,fe,he,Oe,((e,t,r,o,n,a)=>({All:t,Unread:r,Pinned:o,Closed:n,Unreplied:a}[e]))),me=(0,t.createSelector)(Re,B,o.permissionsSelector,Ae,((e,t,o,n)=>{var{waitingTimeFilter:a}=o||{},s=e.filter((e=>!t.includes(e.id))),c=e.filter((e=>t.includes(e.id)));return s.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),c.concat(s).filter((e=>void 0===e.faking&&(null==e?void 0:e.biz_id)!==r.BizIdEnum.Chatbot))})),ye=(0,t.createSelector)(J,F,((e,t)=>(null==t?void 0:t.id)&&e===(null==t?void 0:t.id))),Ce=(0,t.createSelector)(ve,j,J,o.isSubAccountSelector,K,o.userEntitiesSelector,o.conversationEntitiesSelector,o.permissionsSelector,ye,F,((t,r,o,a,s,c,i,l,_,u)=>{if(_)return u;var{showServingTab:d}=l||{},S=(d?[...t,...r]:t).find((e=>e.id===o))||{};if(s&&!S.id&&(S=(0,e.denormalize)(o,n.conversationSchema,{conversations:i})||{}),!a&&S.lack){var E=S.to_id,p=(0,e.denormalize)(E,n.userSchema,{users:c})||{},v={to_shop_id:p.shop_id,to_status:p.status,to_name:p.name||"-",to_avatar:p.avatar};return Object.assign(S,v)}return S})),be=(0,t.createSelector)(Ce,(e=>{var t;return(null==e||null===(t=e.official_chat)||void 0===t?void 0:t.official_conv_type)===r.OfficialConvType.OFFICIAL_CREDIT||!1})),Pe=(0,t.createSelector)(o.conversationEntitiesSelector,J,((t,o)=>{var a=(0,e.denormalize)(o,n.conversationSchema,{conversations:t});return(null==a?void 0:a.biz_id)||r.BizIdEnum.SubAccount})),De=(0,t.createSelector)(V,o.permissionsSelector,o.isSubAccountSelector,Pe,((e,t,o,n)=>{if(o)return n;var{sellerDriverWhitelist:a,amsToggleStatus:s}=t||{};return!a&&e===r.ChatWithTypeEnum.Driver||!s&&r.ChatWithTypeEnum.Affiliate?r.ChatWithTypeMap.buyer:r.ChatWithTypeMap[e]||r.BizIdEnum.Buyer})),Ie=(0,t.createSelector)(V,De,((e,t)=>r.ChatWithTypeMap[e]!==t)),Ne=(0,t.createSelector)(o.chatWithTypeListSelector,(e=>e.map((e=>r.ChatWithTypeMap[e])))),we=(0,t.createSelector)(Ce,(e=>{var{to_id:t}=e||{};return t||null})),Me=(0,t.createSelector)(o.isSubAccountSelector,V,Pe,be,((e,t,o,n)=>(!e&&t===r.ChatWithTypeEnum.Buyer||e&&o===r.BizIdEnum.SubAccount)&&!n)),Le=(0,t.createSelector)(Z,Me,be,((e,t,r)=>e||t&&!r)),Ue=(0,t.createSelector)(o.isSubAccountSelector,V,Pe,((e,t,o)=>e?r.subAccountAffiliateBiz.includes(o):t===r.ChatWithTypeEnum.Affiliate)),Ge=(0,t.createSelector)(Ce,o.shopsEntitiesSelector,((t,r)=>(0,e.denormalize)(t.shop_id,n.shopSchema,{shops:r})||{})),Fe=(0,t.createSelector)(Ge,(e=>(null==e?void 0:e.country)||"SG")),je=(0,t.createSelector)(Ge,(e=>(null==e?void 0:e.name)||"SG")),ke=(0,t.createSelector)(Ce,(e=>e.shop_id)),He=(0,t.createSelector)(ke,Ge,((e,t)=>e&&(null==t?void 0:t.managed_by_shopee)||!1)),xe=(0,t.createSelector)(Ce,(e=>e.to_id)),Ye=(0,t.createSelector)(Ce,(e=>e.status)),Be=r=>(0,t.createSelector)(o.conversationEntitiesSelector,(t=>(0,e.denormalize)(r,n.conversationSchema,{conversations:t})||{})),Ve=e=>(0,t.createSelector)(Be(e),o.isSubAccountSelector,De,((e,t,r)=>t?null==e?void 0:e.biz_id:r)),We=e=>(0,t.createSelector)(Be(e),(e=>e.shop_id)),Qe=e=>(0,t.createSelector)(ve,j,o.permissionsSelector,((t,r,o)=>{var{showServingTab:n}=o||{},a=n?[...t,...r]:t;return e.map((e=>a.find((t=>t.id===e)))).filter(Boolean)})),qe=(0,t.createSelector)(Ce,(e=>{var{shop_id:t}=e||{};return t||null})),ze=(0,t.createSelector)(o.userEntitiesSelector,Ce,((t,r)=>r?(0,e.denormalize)(r.to_id,n.userSchema,{users:t}):{})),Ke=(0,t.createSelector)(Ce,(e=>{var{to_shop_id:t}=e||{};return t||null})),Xe=(0,t.createSelector)(Ke,o.shopsEntitiesSelector,((t,r)=>(0,e.denormalize)(t,n.shopSchema,{shops:r})||{})),Je=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.keyword)||""},Ze=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.results)||[]},$e=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.searchStatus)||""},et=(0,t.createSelector)(Ce,(e=>e.translationAccess)),tt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.listsHash)||{}},rt=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationBeenDeleted)||!1},ot=(0,t.createSelector)(Ce,(e=>{var{to_name:t}=e||{};return t})),nt={hasSCAccess:!0,hasEditOrderAccess:!0,hasViewOrderAccess:!0,hasViewProductAccess:!0,hasEditVoucherAccess:!0,hasViewVoucherAccess:!0,hasViewRrOrderAccess:!0,hasOrderDetailAccess:!0},at=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.access)||nt},st=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.isNavigateToUnreadMessage)||!1},ct=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.navigateToUnreadMessageId)||""},it=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.pendingOffersCount)||{}},lt=(0,t.createSelector)(Ce,it,((e,t)=>{var{shop_id:r,to_id:o}=e;return t["".concat(r,"_").concat(o)]||0})),_t=e=>(0,t.createSelector)(Be(e),it,((e,t)=>{var{shop_id:r,to_id:o}=e;return t["".concat(r,"_").concat(o)]||0})),ut=r=>(0,t.createSelector)(We(r),o.shopsEntitiesSelector,((t,r)=>{var o=(0,e.denormalize)(t,n.shopSchema,{shops:r})||{};return(null==o?void 0:o.country)||"SG"})),dt=(0,t.createSelector)(o.isSubAccountSelector,o.currentUserIdSelector,Ge,((e,t,r)=>e?r.user_id:t)),St=(0,t.createSelector)(V,o.allTotalConversationsCountMapSelector,((e,t)=>t[e]||{})),Et=e=>{var t;return(null==e||null===(t=e.conversationReducer)||void 0===t?void 0:t.conversationMark)||{}},pt=e=>(0,t.createSelector)(Et,(t=>t[e])),vt=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.showLoadingMessagesMap},Tt=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.redirectionInfo},ft=(0,t.createSelector)(o.permissionsSelector,Q,w,((e,t,r)=>{var{showServingTab:o}=e||{};return o?[...t,...r]:t})),ht=(0,t.createSelector)(Ce,o.isSubAccountSelector,ie,((e,t,r)=>{var{choice_entity:{to_shop_is_choice:o}={}}=e||{};return o||r&&!t})),Ot=e=>{var t;return null===(t=e.conversationReducer)||void 0===t?void 0:t.clickable},gt=(0,t.createSelector)(o.permissionsSelector,(e=>{var{onboardingWhitelist:t,chatbotToggleOpen:r,onboardingNewbieComplete:o}=e||{};return r&&!o&&t})),At=(0,t.createSelector)(ye,o.permissionsSelector,A,((e,t,r)=>{var{onboardingWhitelist:o,chatbotToggleOpen:n,onboardingNewbieComplete:a}=t||{};return(n||!n&&e)&&o&&!a&&r})),Rt=(0,t.createSelector)(gt,o.newbieSelector,At,h,g,S,o.permissionsSelector,u,((e,t,o,n,a,s,c,i)=>{var{chatListRevamp:l}=c,_=e&&!!(0,r.checkAutoReplyHighlightGuide)(t)&&!o&&!n&&a&&i===r.ConversationListTab.TODAY;return l?_&&s===r.ServeTodayTab.AUTOREPLY:_})),mt=(0,t.createSelector)(gt,o.newbieSelector,At,h,g,O,f,S,o.permissionsSelector,u,((e,t,o,n,a,s,c,i,l,_)=>{var{chatListRevamp:u}=l,d=(e&&!!(0,r.checkAutoReplyHighlightGuide)(t)&&!o&&!n&&!a&&s||c)&&_===r.ConversationListTab.TODAY;return u?d&&i===r.ServeTodayTab.UNREPLIED:d})),yt=(0,t.createSelector)(o.newbieSelector,At,h,o.permissionsSelector,((e,t,o,n)=>{var{chatbotToggleOpen:a}=n||{};return!!(0,r.checkAssistantHighlightGuide)(e)&&!t&&o&&!a})),Ct=e=>(0,t.createSelector)(o.shopTranslationSettingsSelector,De,((t,o)=>{var{autoTranslationStatus:n}=t[e]||{};return o===r.BizIdEnum.Buyer||o===r.BizIdEnum.SubAccount?n:r.SwitchStatus.ENABLED})),bt=(0,t.createSelector)(v,o.permissionsSelector,V,((e,t,o)=>{var{chatbotToggleOpen:n,onboardingWhitelist:a}=t;return(n&&a||(null==e?void 0:e.showAssistantAlert))&&o===r.ChatWithTypeEnum.Buyer})),Pt=(0,t.createSelector)(o.permissionsSelector,o.localeSelector,bt,((e,t,o)=>{var n,a;return null==e||null===(n=e.showBotBanner)||void 0===n||!n.text||o?"":(0,r.getGlobalConfigTranslatedText)(null==e||null===(a=e.showBotBanner)||void 0===a?void 0:a.text,t)})),Dt=(0,t.createSelector)(M(r.ServeTodayTab.BUYER_TO_PAY),B,((e,t)=>{var n=(0,o.sortConversations)(e.filter((e=>!(null!=e&&e[r.ServeTodayTab.BUYER_TO_PAY])))),a=t.map((e=>n.find((t=>t.id===e)))).filter(Boolean),s=n.filter((e=>!t.includes(e.id)));return a.concat(s.filter((e=>void 0===e.faking)))})),It=(0,t.createSelector)(M(r.ServeTodayTab.INQUIRY_WITHOUT_ORDER),B,((e,t)=>{var n=(0,o.sortConversations)(e.filter((e=>!(null!=e&&e[r.ServeTodayTab.INQUIRY_WITHOUT_ORDER])))),a=t.map((e=>n.find((t=>t.id===e)))).filter(Boolean),s=n.filter((e=>!t.includes(e.id)));return a.concat(s.filter((e=>void 0===e.faking)))})),Nt=(0,t.createSelector)(E,me,Dt,It,((e,t,o,n)=>{var a=[],s={[r.ServeTodayTab.BUYER_TO_PAY]:o,[r.ServeTodayTab.INQUIRY_WITHOUT_ORDER]:n};return r.AllChatsFolders.forEach((t=>{var r=null==s?void 0:s[t];null!=r&&r.length&&(a=a.concat([{key:t,id:"".concat(t,"Tab")}]),e===t&&(a=a.concat(r)))})),a})),wt=(0,t.createSelector)(Ee,y,H,((e,t,o)=>(null==o?void 0:o.key)===r.ServeTodayTab.ALL_BUYERS?e:t));function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}}var{MSG_TYPE_OFFER:Gt,MSG_TYPE_ORDER:Ft,MSG_TYPE_PRODUCT:jt,MSG_TYPE_FAQ_UNSUPPORTED:kt,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:Ht,MSG_TYPE_RATE_CARD:xt,MSG_TYPE_FAQ_BOT_PRODUCT:Yt}=r.MessageTypes,Bt=[Ft,jt,Yt],Vt=(0,t.createSelector)((e=>e),(e=>(e.messageReducer||{}).messagesRelatedMap||{})),Wt=e=>{var t;return(null===(t=e.messageReducer)||void 0===t?void 0:t.videoMap)||{}},Qt=e=>(0,t.createSelector)(Wt,(t=>JSON.parse(JSON.stringify(t[e]||{})))),qt=e=>(0,t.createSelector)(Wt,(t=>Object.keys(t).find((r=>t[r].vid===e)))),zt=r=>(0,t.createSelector)(o.messageEntitiesSelector,(t=>(0,e.denormalize)(r,n.messageSchema,{messages:t}))),Kt=(0,t.createSelector)(J,Vt,((e,t)=>t[e]||{all:[]})),Xt=e=>(0,t.createSelector)(Vt,(t=>t[e]||{all:[],sending:[],failed:[]})),Jt=Ut((e=>(0,t.createSelector)(Xt(e),Be(e),o.messageEntitiesSelector,((e,t,r)=>(0,o.getConversationLastMessage)(e,t,r))))),Zt=Ut((e=>(0,t.createSelector)(Xt(e),Be(e),o.messageEntitiesSelector,((e,t,r)=>{var n=(0,o.getConversationLastMessage)(e,t,r,!0);return null==n?void 0:n.id})))),$t=Ut((e=>(0,t.createSelector)(Be(e),o.isSubAccountSelector,((e,t)=>{var{status:o,to_status:n,is_blocked:a}=e||{};return(0,r.getConversationStatusTag)({isSubAccount:t,status:o,userStatus:n,isBlocked:a})})))),er=Ut((e=>(0,t.createSelector)(Be(e),o.isSubAccountSelector,((e,t)=>{var{dueTag:o,status:n,to_status:a,is_blocked:s}=e,c=(0,r.getConversationStatusTag)({isSubAccount:t,status:n,userStatus:a,isBlocked:s});return o&&!["banned","blocked","frozen"].includes(c)?o:""})))),tr=(0,t.createSelector)(Kt,(e=>{var t=[...e.all||[]];return e.securityTipsMessageId&&t.push(e.securityTipsMessageId),t})),rr=(0,t.createSelector)(Kt,(e=>e.sending||[])),or=(0,t.createSelector)(Kt,(e=>e.failed||[])),nr=(0,t.createSelector)(o.messageEntitiesSelector,tr,((t,r)=>((0,e.denormalize)(r,[n.messageSchema],{messages:t})||[]).filter(Boolean))),ar=(0,t.createSelector)(nr,(e=>e.reverse())),sr=(0,t.createSelector)(Ce,ar,((e,t)=>e?t.filter(Boolean).reduce(((e,t)=>{var{type:r,source_type:o,source_content:n,content:a}=t;if(!o||r===Gt||[-1,0].includes(n["".concat(o,"_id")]))return e;if(Bt.includes(r)&&n){var s="".concat(r,"_id");if(a[s]===n[s])return e}var{lastSourceMessage:c,sourceList:i}=e;if(!i.length)return{sourceList:i.concat(t),lastSourceMessage:t};if(o===jt){var l=null==n?void 0:n.product_id,_=c.source_content&&c.source_content.product_id;if(!l||_===l)return e}else if(o===Ft){var u=null==n?void 0:n.order_id,d=c.source_content&&c.source_content.order_id;if(!u||[-1,0,d].includes(u))return e}return{sourceList:i.concat(t),lastSourceMessage:t}}),{sourceList:[],lastSourceMessage:null}).sourceList:[])),cr=(0,t.createSelector)(sr,(e=>e.map((e=>e.id)))),ir=(0,t.createSelector)(o.entitiesSelector,nr,((t,r)=>{var o=r.filter((e=>e&&e.type===Gt)).map((e=>e.content.offer_id));return(0,e.denormalize)(o,[n.offerSchema],t)})),lr=(0,t.createSelector)(ar,cr,rr,or,Ce,o.rateCardEntitiesSelector,ir,((e,t,o,n,a,s,c)=>a?e.filter((e=>{if(!e)return!1;var{content:t,type:r}=e;return!(![kt,Ht].includes(r)&&(!t||t&&0===Object.keys(t).length))})).map((e=>{var a=o.includes(e.id)?r.MessageSendStatus.SENDING:n.includes(e.id)?r.MessageSendStatus.FAILED:e.send_status||null,i=t.includes(e.id),l=Object.assign({},e,{send_status:a,hasMessageSource:i}),{type:_,content:u={},message_option:d}=l;switch(_){case Gt:var S=c.find((e=>e&&e.id===u.offer_id));l=Object.assign({},l,{textContent:S});break;case xt:var E=s[u.card_id];E&&(l=Object.assign({},l,{textContent:E}))}return(0,r.hasTargetMessageOption)(d,r.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(l=Lt(Lt({},l),{},{send_status:r.MessageSendStatus.FAILED,errorCode:r.MessageErrorCode.BLACKLIST})),l})):[])),_r=(0,t.createSelector)((e=>{var t;return null==e||null===(t=e.messageReducer)||void 0===t?void 0:t.reply}),(e=>e?e.toMessageId:{})),ur=(0,t.createSelector)(J,_r,((e,t)=>t[e]||"")),dr=(0,t.createSelector)(ur,o.messageEntitiesSelector,((t,r)=>(0,e.denormalize)(t,n.messageSchema,{messages:r}))),Sr=(0,t.createSelector)(lr,Ce,((e,t)=>{for(var o="",n=e.length-1;n>=0;n--){var a=e[n];if(!(0,r.getMessageIsSend)(a,t)){o=a.id;break}}return o})),Er=(0,t.createSelector)(J,(e=>{var t;return(null===(t=e.mediaPreviewerReducer)||void 0===t?void 0:t.mediaMap)||{}}),((e,t)=>t[e]||[])),pr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.feedback)||void 0},vr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.reconnectFlag)||!1},Tr=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.noticesCount)||0}})(),i})(),e.exports=o(r(82677),r(20573),r(29494),r(53402),r(96961))},66633:function(e,t,r){"use strict";e.exports=r(78232)},25061:function(e,t,r){var o,n,a,s,c,i,l,_,u,d,S,E;e.exports=(o=r(34857),n=r(20573),a=r(29494),s=r(96961),c=r(6678),i=r(82677),l=r(38104),_=r(58518),u=r(44900),d=r(36808),S=r(55036),E=r(86843),(()=>{"use strict";var e={701:(e,t,r)=>{r.d(t,{t:()=>a});var o=r(661),n=r.n(o),a=n().t.bind(n())},661:e=>{e.exports=_},598:e=>{e.exports=d},383:e=>{e.exports=i},156:e=>{e.exports=E},756:e=>{e.exports=S},252:e=>{e.exports=c},944:e=>{e.exports=o},975:e=>{e.exports=n},783:e=>{e.exports=l},644:e=>{e.exports=s},855:e=>{e.exports=a},672:e=>{e.exports=u}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{r.r(p),r.d(p,{addNeedCaptchaRequest:()=>Bo,affiliateEntitiesSelector:()=>c,agentConversationEntitiesSelector:()=>l,allMessageShortcutGroupsSelector:()=>Yr,allTotalConversationsCountMapSelector:()=>Ve,allTotalConversationsCountSelector:()=>Be,authorizedShopsCountSelector:()=>De,autoTranslation:()=>to,batchRemoveDraftHandler:()=>Ze,batchUpdateRecord:()=>L,buyerIsFrozenSelector:()=>He,captchaSignatureSelector:()=>ee,captchaVerifyReducer:()=>Ko,captchaVisibleSelector:()=>$,chatWithTypeListSelector:()=>xe,checkUserPermissionSaga:()=>lr,checkUserPermissionSucceeded:()=>sr,clearNeedCaptchaRequest:()=>Wo,clearReportRequested:()=>No,contactsEntitiesSelector:()=>h,conversationEntitiesSelector:()=>i,conversationsLengthLevelSelector:()=>O,copySucceedFeedback:()=>br,curTabFocusedSelector:()=>Oe,currentAllMessageShortcutsSelector:()=>zr,currentGroupIdSelector:()=>xr,currentGroupTypeSelector:()=>Hr,currentMessageShortcutGroupsSelector:()=>Wr,currentUserDistributionStatusSelector:()=>fe,currentUserIdSelector:()=>q,currentUserIsSellerSelector:()=>Ne,currentUserRoleSelector:()=>Te,currentUserSelector:()=>ae,currentUserShopIdSelector:()=>pe,currentUserShopSelector:()=>ve,deepUpdateRecord:()=>U,defaultCount:()=>Ye,deleteCaptchaRequest:()=>Vo,deleteConversationSucceedHandler:()=>ze,deleteRecord:()=>M,displayCBCBannerSelector:()=>ao,distributionAccountStatusSelector:()=>no,draftHashSelector:()=>fo,entitiesSelector:()=>a,entityReducer:()=>x,fetchSettings:()=>so,fetchSettingsStatusSelector:()=>go,fetchShopAuth:()=>Ar,fetchShopsByIds:()=>gr,fetchedShopIdsSelector:()=>fr,firstClickEntrySelector:()=>Pe,forceLogoutRequested:()=>jt,forwardGroupMembersSelector:()=>R,forwardGroupsEntitiesSelector:()=>A,getConversationLastMessage:()=>St,getDraft:()=>ho,getShopUnreadCountByIds:()=>hr,getTimestamp:()=>ct,getToastInformation:()=>Cr,handle401ErrorRequested:()=>_o,handleLoginSucceededLogic:()=>Wt,handleMessageSubscribe:()=>tt,hasFetchedUnreadSelector:()=>Ce,hasSidebarPanelSelector:()=>be,hasVerifyPhoneNumberNormalSellerSelector:()=>we,hasVerifyPhoneNumberSelector:()=>Le,hasVerifyPhoneNumberSubaccountSelector:()=>Me,includeDirectShopSelector:()=>Se,isCBSellerSelector:()=>_e,isCBSubAccountSelector:()=>Ee,isMainPageSelector:()=>he,isSubAccountSelector:()=>ce,judgeUndefined:()=>it,legacyMessageShortcutsCountSelector:()=>oo,loadingSelector:()=>Q,localeSelector:()=>se,login:()=>Qt,loginRequested:()=>Lt,loginSucceeded:()=>Ut,loginSuccessSelector:()=>me,logout:()=>dr,logoutHandler:()=>ur,logoutRequested:()=>Gt,logoutSucceeded:()=>Ft,messageEntitiesSelector:()=>_,messageShortcutGroupEntitiesSelector:()=>v,messageShortcutGroupHttpStatusSelector:()=>kr,messageShortcutGroupSelector:()=>jr,messageShortcutsSelector:()=>Xr,messageShortcutsStatusSelector:()=>ro,messagesLengthLevelSelector:()=>g,networkStatusSelector:()=>z,newChatEntranceSelector:()=>ie,newMessageFlagSelector:()=>oe,newbieSelector:()=>re,notificationTypes:()=>Et,offerSelector:()=>vo,offersSelector:()=>Eo,openMallUrl:()=>co,openMallUrlSaga:()=>lo,orderEntitiesSelector:()=>d,ordersSelector:()=>Po,permissionsSelector:()=>X,personalMessageShortcutGroupsSelector:()=>Br,personalMessageShortcutsSelector:()=>Qr,productEntitiesSelector:()=>S,productsSelector:()=>bo,pureActionHandler:()=>nt,pureMergeActionHandler:()=>at,rateCardEntitiesSelector:()=>T,reduxReset:()=>To,relatedOfferIdsSelector:()=>po,removeSingleDraftHandler:()=>Je,reportArraySelector:()=>Do,reportMessageApiTimer:()=>lt,reportReducer:()=>ko,reportRequested:()=>Io,resendMessagePayloadSelector:()=>te,resendNeedCaptchaRequest:()=>Qo,responseStatusSelector:()=>K,saveDraftHandler:()=>$e,serviceDownAlertSelector:()=>Ge,serviceDownClosedSelector:()=>Fe,serviceDownListSelector:()=>je,serviceDownMessageSelector:()=>ke,setServiceDownStatus:()=>nr,setToastInformation:()=>Pr,setToastInformationSaga:()=>Ir,settingsFetchStatusSelector:()=>eo,settingsNeedForceUpdateSelectors:()=>Zr,settingsSelector:()=>Jr,settingsStatusSelector:()=>$r,shopSelector:()=>Tr,shopStatisticsMapSelector:()=>ue,shopStatisticsSelector:()=>de,shopTranslationSettingsSelector:()=>Oo,shopsEntitiesSelector:()=>f,shopsUnreadConversationCountSelector:()=>Y,showAutoHangupModalSelector:()=>Ie,showChatWindowSelector:()=>Re,showConversationDetailSelector:()=>Ae,showEntrySelector:()=>ye,showNewWelcomePageSelector:()=>Z,showOriginalMessagesMapSelector:()=>Zo,showServingTodayTabSelector:()=>J,showShop:()=>Or,sortConversations:()=>st,sortedAllMessageShortcutsSelector:()=>Kr,stickerEntitiesSelector:()=>u,takeEveryWithCancel:()=>on,teamMessageShortcutGroupsSelector:()=>Vr,teamMessageShortcutsSelector:()=>qr,textBoxHeightSelector:()=>ge,timerHandler:()=>Lo,toastReducer:()=>Fr,toastSelector:()=>mr,totalUnreadConversationsCountSelector:()=>B,unreadCountActions:()=>V,updateChatEntryStatus:()=>Rt,updateChatWindowStatus:()=>Ot,updateConversationDetailStatus:()=>gt,updateConversationListsHash:()=>uo,updateCurTabFocused:()=>Xt,updateCurTabFocusedSaga:()=>Zt,updateCurTabFocusedSucceeded:()=>Jt,updateEntities:()=>N,updateHasFetchedUnread:()=>mt,updateHasSidebarPanel:()=>yt,updateIsMainPage:()=>Kt,updateLoginSuccessStatus:()=>At,updateNetworkStatus:()=>Tt,updateOrReplaceAction:()=>yo,updatePermissions:()=>cr,updateRecord:()=>w,updateShowAutoHangupModal:()=>ft,updateStatusSelector:()=>Ao,updateUseNewChatEntrance:()=>ht,useElementWatcher:()=>rn,useNewChatEntranceSelector:()=>le,usePermission:()=>en,userEntitiesSelector:()=>s,userReducer:()=>vr,userSelector:()=>ne,verifyRequestsSelector:()=>Jo,voucherEntitiesSelector:()=>E,watchHandleUrlSagas:()=>So,watchLogin:()=>qt,watchReportSagas:()=>jo,watchTab:()=>$t,watchToastSagas:()=>Gr,watchUserSagas:()=>pr,watchVerifySagas:()=>Xo});var e=r(944),t=r(975),o=r(855),n=e=>e<=100?1:e<=500?2:e<=1e3?3:4,a=e=>e.entityReducer,s=(0,t.createSelector)(a,(e=>e.users)),c=(0,t.createSelector)(a,(e=>e.affiliate)),i=(0,t.createSelector)(a,(e=>e.conversations)),l=(0,t.createSelector)(a,(e=>e.agentConversations)),_=(0,t.createSelector)(a,(e=>(e=>(0,o.checkEmptyObject)(e)?{}:e)(e.messages))),u=(0,t.createSelector)(a,(e=>e.stickers)),d=(0,t.createSelector)(a,(e=>e.orders)),S=(0,t.createSelector)(a,(e=>e.products)),E=(0,t.createSelector)(a,(e=>e.vouchers)),v=(0,t.createSelector)(a,(e=>e.messageShortcutsGroups)),T=(0,t.createSelector)(a,(e=>e.rateCards)),f=(0,t.createSelector)(a,(e=>e.shops)),h=(0,t.createSelector)(a,(e=>e.contacts)),O=(0,t.createSelector)(i,l,((e,t)=>{var r=Object.keys(e).length+Object.keys(t).length;return n(r)})),g=(0,t.createSelector)(_,(e=>n(Object.keys(e).length))),A=(0,t.createSelector)(a,(e=>e.groups)),R=(0,t.createSelector)(a,(e=>e.groupMembers));function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y,C=r(644);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.UPDATE_ENTITIES="UPDATE_ENTITIES",e.UPDATE_RECORD="UPDATE_RECORD",e.DELETE_RECORD="DELETE_RECORD",e.BATCH_UPDATE_RECORD="BATCH_UPDATE_RECORD",e.DEEP_UPDATE_RECORD="DEEP_UPDATE_RECORD"}(y||(y={}));const D={[y.UPDATE_ENTITIES]:(e,{payload:{entities:t}})=>Object.entries(t).reduce(((e,[t,r])=>"persist"!==t?("shops"===t&&C.shopService.updateShopMap(r),P(P({},e),{},{[t]:P(P({},e[t]),r)})):P(P({},e),{},{[t]:r})),e)};var I=r(252),{updateEntities:N,updateRecord:w,deleteRecord:M,batchUpdateRecord:L,deepUpdateRecord:U}=(0,I.createActions)({[y.UPDATE_ENTITIES]:({entities:e})=>({entities:e}),[y.UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r}),[y.DELETE_RECORD]:({name:e,id:t})=>({name:e,id:t}),[y.BATCH_UPDATE_RECORD]:({name:e,records:t,checkProp:r})=>({name:e,records:t,checkProp:r}),[y.DEEP_UPDATE_RECORD]:({name:e,id:t,record:r})=>({name:e,id:t,record:r})});function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const j={[y.UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>F(F({},e),{},{[t]:F(F({},e[t]),{},{[r]:F(F({},e[t][r]),o)})}),[y.DELETE_RECORD]:(e,{payload:{name:t,id:r}})=>{var o=e[t];return delete o[r],F(F({},e),{},{[t]:o})},[y.BATCH_UPDATE_RECORD]:(e,{payload:{name:t,records:r,checkProp:o}})=>{var n=F({},e[t]);return Object.keys(r).forEach((e=>{(!o||o&&r[e][o]>n[e][o])&&(n[e]=F(F({},n[e]),r[e]))})),F(F({},e),{},{[t]:n})},[y.DEEP_UPDATE_RECORD]:(e,{payload:{name:t,id:r,record:o}})=>{var n=Object.keys(o),a={},s=F({},e[t][r]);return n.forEach((e=>{a[e]=F(F({},s[e]),o[e])})),F(F({},e),{},{[t]:F(F({},e[t]),{},{[r]:F(F({},e[t][r]),a)})})}};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=(0,I.handleActions)(H(H({},D),j),{users:{},affiliate:{},messages:{},conversations:{},agentConversations:{},stickers:{},orders:{},offers:{},products:{},shops:{},rateCards:{},persist:null,vouchers:{},messageShortcuts:{}}),Y=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.shopsUnreadConversationCount)||0},B=e=>{var t;return(null==e||null===(t=e.socketReducer)||void 0===t?void 0:t.totalUnreadConversationsCount)||0},V={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount",REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT:"refreshShopsUnreadConversationsCount",REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT:"refreshSingleShopUnreadConversationCount",UPDATE_CONVERSATION:"updateConversation",MESSAGE_QUEUE_UPDATE:"messageQueueUpdate",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_CLOSE:"mass_close",ACTIVE_CONVERSATION:"activeConversation",CLEAR_CONVERSATION_COUNT:"clearConversationCount",ADD_FOLLOW_UP_CONVERSATION:"addFollowUpConversation",REMOVE_FOLLOW_UP_CONVERSATION:"removeFollowUpConversation"},W=r(383),Q=e=>e.userReducer.loading,q=e=>e.userReducer.currentUserId,z=e=>e.userReducer.networkStatus,K=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.responseStatus)||!1},X=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.permissions)||{}},J=(0,t.createSelector)(X,(e=>{var{showChatServingFeature:t,onboardingWhitelist:r}=e||{};return t||r})),Z=(0,t.createSelector)(X,(e=>{var{hitChatbotWhitelist:t,chatbotToggleOpen:r}=e||{};return t&&!r})),$=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaVisible)||!1},ee=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.captchaSignature)||""},te=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.resendMessagePayload)||void 0},re=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.newbie)||[]},oe=e=>e.userReducer.newMessageFlag,ne=e=>(0,t.createSelector)(a,(t=>(0,W.denormalize)(e,C.userSchema,{users:t}))),ae=(0,t.createSelector)(s,q,((e,t)=>(0,W.denormalize)(t,C.userSchema,{users:e})||{})),se=(0,t.createSelector)(ae,(e=>e&&e.locale)),ce=(0,t.createSelector)(ae,(e=>!(0,o.checkEmptyObject)(e)&&e.type===o.AccountType.SUBACCOUNT)),ie=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.useNewChatEntrance)||!1},le=(0,t.createSelector)(ce,ie,((e,t)=>!e&&t)),_e=(0,t.createSelector)(ae,(e=>!(0,o.checkEmptyObject)(e)&&e.is_cb)),ue=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.shopStatisticsMap)||{}},de=(e,r)=>(0,t.createSelector)(ue,(t=>t["".concat(e,"-").concat(r)]||{})),Se=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.includesDirectShop)||!1},Ee=(0,t.createSelector)(ce,_e,Se,((e,t,r)=>e&&(t||r))),pe=(0,t.createSelector)(ae,ce,((e={},t)=>t?void 0:e.shop_id)),ve=(0,t.createSelector)(ae,ce,f,((e={},t,r)=>t?void 0:(0,W.denormalize)(e.shop_id,C.shopSchema,{shops:r})||{})),Te=(0,t.createSelector)(ae,((e={})=>e.role||"")),fe=(0,t.createSelector)(ae,(e=>e&&e.distribution_status||"")),he=e=>e.userReducer.isMainPage,Oe=e=>e.userReducer.curTabFocused,ge=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.textBoxHeight)||0},Ae=e=>e.userReducer.showConversationDetail,Re=e=>e.userReducer.showChatWindow,me=e=>e.userReducer.loginSuccess,ye=e=>e.userReducer.showEntry,Ce=e=>e.userReducer.hasFetchedUnread,be=e=>e.userReducer.hasSidebarPanel,Pe=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.firstClickEntry)||!1},De=(0,t.createSelector)(ae,((e={})=>e.authorizedShopsCount||0)),Ie=e=>e.userReducer.showAutoHangupModal,Ne=(0,t.createSelector)(ae,ce,((e={},t)=>!!t||e.is_seller)),we=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumber)||!1},Me=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.hasVerifyPhoneNumberMap)||{}},Le=(0,t.createSelector)(ce,we,Me,((e,t,r)=>e?r:t)),Ue=e=>{var t;return(null==e||null===(t=e.userReducer)||void 0===t?void 0:t.serviceDownStatus)||{}},Ge=(0,t.createSelector)(Ue,(e=>e.alert||!1)),Fe=(0,t.createSelector)(Ue,(e=>e.closed||!1)),je=(0,t.createSelector)(Ue,(e=>e.list||!1)),ke=(0,t.createSelector)(Ue,(e=>e.message||!1)),He=(e,r,o)=>(0,t.createSelector)(de(e,r),(e=>"frozen"===o&&"boolean"==typeof e.exist_pending_order&&!e.exist_pending_order)),xe=(0,t.createSelector)(X,(e=>{var t=[o.ChatWithTypeEnum.Buyer],{sellerDriverWhitelist:r,amsToggleStatus:n}=e||{};return r&&t.push(o.ChatWithTypeEnum.Driver),n&&t.push(o.ChatWithTypeEnum.Affiliate),t})),Ye={unrepliedCount:0,duesoonCount:0,overdueCount:0,pinnedCount:0,unreadCount:0,serveTodayUnrepliedCount:0,serveTodayDuesoonCount:0,serveTodayOverdueCount:0,serveTodayPinnedCount:0,serveTodayBotRepliedCount:0,serveTodayManualRepliedCount:0},Be=e=>{var t;return(null==e||null===(t=e.userRelatedReducer)||void 0===t?void 0:t.allTotalConversationsCount)||{}},Ve=(0,t.createSelector)(xe,Be,((e,t)=>e.reduce(((e,r)=>{var o,n,a=(null===(o=t["with_".concat(r,"_attribute")])||void 0===o?void 0:o.attributes)||{},s=(null===(n=t["with_".concat(r,"_attribute")])||void 0===n?void 0:n.serving_today_attributions)||{},{total_unreplied_conv_count:c,total_due_soon_conv_count:i,total_over_due_conv_count:l,total_pinned_conv_count:_,total_unread_conv_count:u}=a,{total_unreplied_conv_count:d,total_due_soon_conv_count:S,total_over_due_conv_count:E,total_pinned_conv_count:p,total_bot_replied_count:v,total_manual_replied_count:T,total_unread_conv_count:f,total_inquiry_without_order_conv_count:h,total_to_pay_conv_count:O}=s,g={unrepliedCount:c,duesoonCount:i,overdueCount:l,pinnedCount:_,unreadCount:u,serveTodayUnrepliedCount:d,serveTodayDuesoonCount:S,serveTodayOverdueCount:E,serveTodayPinnedCount:p,serveTodayBotRepliedCount:v,serveTodayManualRepliedCount:T,serveTodayUnreadCount:f,inquiryWithoutOrderConvCount:h,toPayConvCount:O};return e[r]=g||Ye,e}),{})));function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe=(e,t)=>{var r=new Set(t);return r.delete(e),Array.from(r)},ze=(e,{payload:{conversationId:t}})=>{var r=Qe(Qe({},e.conversationIdsMap),{},{[t]:!1}),o=qe(t,e.conversationIds),n=qe(t,e.pinnedConversationIds),{currentConversationId:a}=e;return Qe(Qe({},e),{},{currentConversationId:a===t?null:a,conversationIds:o,pinnedConversationIds:n,conversationIdsMap:r})};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je=(e,{payload:{conversationId:t}})=>{var r=Xe({},e.draftHash);return delete r[t],Xe(Xe({},e),{},{draftHash:r})},Ze=(e,{payload:{conversationIds:t=[]}})=>{var r=Xe({},e.draftHash);return t.forEach((e=>{delete r[e]})),Xe(Xe({},e),{},{draftHash:r})},$e=(e,{payload:{conversationId:t,draft:r}})=>{var o=Xe({},e.draftHash);return o[t]=r,Xe(Xe({},e),{},{draftHash:o})},et=r(783);function*tt(t){var{payload:r,type:n}=t;yield(0,e.spawn)(lt,r.request_id),n===o.ConversationTypeEnum.Agent?yield(0,e.put)((0,et.receiveAgentMessageRequested)({message:r})):yield(0,e.put)((0,et.receiveMessageRequested)({message:r}))}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nt=()=>(e,{payload:t})=>ot(ot({},e),t),at=e=>(t,{payload:r})=>ot(ot({},t),{},{[e]:ot(ot({},t[e]),r)}),st=e=>(e.sort(((e,t)=>parseInt(t.latest_message_id)-parseInt(e.latest_message_id))),e),ct=(e,t)=>{var{last_message_time_nano:r,next_timestamp_nano:o}=e;return t&&!o&&(o=t.next_message_time_nano),{nextTimestampNano:o,oldestTimestampNano:o,latestTimestampNano:r}},it=({defaultValue:e,value:t})=>void 0===t?e:t;function*lt(e){var t=yield(0,o.getItem)(e);if(t){var r=(0,C.getReportManager)();null==r||r.reportMessageSocket(t),(0,o.removeItem)(e)}}var _t,ut=r(701).t,{MSG_TYPE_TEXT:dt}=o.MessageTypes,St=(e,t,r,n=!1)=>{var a=e.all||[],s=e.sending||[],c=e.failed||[],i=a.length,l=null;if(i){for(var _=0,u=null;_<i&&!u;){var d,S=e.all[_];(u=(0,W.denormalize)(S,C.messageSchema,{messages:r}))&&(u.type===o.MessageTypes.MSG_TYPE_SECURITY_TIPS||u.isFaking)&&(u=null),n&&!o.ManualMessageSource.includes(null===(d=u)||void 0===d?void 0:d.source)&&(u=null),_++}u&&u.created_timestamp>Math.floor(t.last_message_time_nano/Math.pow(10,9))&&(l=(0,o.fillMessagePreview)(u))}if(!l){var{latest_message_id:E,latest_message_content:p,latest_message_type:v,last_message_option:T,latest_message_source:f,last_message_time_nano:h,latest_message_to_shop_id:O,label_info:g}=t;(l={id:E,content:p,type:v,message_option:T,source:f,to_shop_id:O,label_info:g}).created_at=new Date(h/1e6)+""}var{id:A,message_option:R}=l,m=s.includes(A)?o.MessageSendStatus.SENDING:c.includes(A)?o.MessageSendStatus.FAILED:l.send_status?o.MessageSendStatus.SUCCEED:null;return(0,o.hasTargetMessageOption)(R,o.MessageOption.MSG_OPT_CENSORED_BLACKLIST)&&(m=o.MessageSendStatus.FAILED,l.type=dt,l.content={text:ut("common.blacklist.replaced_text")}),(0,o.hasTargetMessageOption)(R,o.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND)&&(m=o.MessageSendStatus.FAILED),l.send_status=m,l},Et={MARK_AS_READ:"mark_as_read",MARK_AS_UNREAD:"mark_as_unread",DELETE_CONVERSATION:"delete_conversation",UPDATE_OFFER_STATUS:"update_offer_status",UPDATE_CONVERSATION:"update_conversation",UPDATE_USER_STATUS:"update_user_status",UPDATE_CONVERSATION_FLAG:"update_conversation_flag",FORCE_LOGOUT:"force_logout",UPDATE_RATING_CARD_STATUS:"update_rating_card_status",PULL_NOTIFICATION:"pull_notification",PIN_CONVERSATION:"pin_conversation",UNPIN_CONVERSATION:"unpin_conversation",MASS_READ:"mass_read",MASS_UNREAD:"mass_unread",MASS_PIN:"mass_pin",MASS_UNPIN:"mass_unpin",MASS_CLOSE:"mass_close",MASS_ACTIVATE:"mass_activate",VIDEO_UPLOAD:"video_upload",MARK_AS_REPLIED:"mark_as_replied",MARK_AS_UNREPLIED:"mark_as_unreplied",CHAT_DELETE_MSG:"chat_delete_msg",FAQ_SESSION_UPDATE:"faq_session_update",MUTE_CONVERSATION:"mute_conversation",UNMUTE_CONVERSATION:"unmute_conversation",CTT_UPDATE:"ctt_update",HAVE_UNRATED_CSAT:"have_unrated_csat",FAQ_SELLER_UNREAD_STATUS_UPDATE:"faq_seller_unread_status_update",CHAT_UPDATE_MSG_STATUS:"chat_update_msg_status",NEW_MSG_BOX:"new_msg_box",DEL_MSG_BOX:"del_msg_box",ADD_FOLLOW_UP:"add_follow_up",REMOVE_FOLLOW_UP:"remove_follow_up"};function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.SHOW_LOADING_SUCCEEDED="SHOW_LOADING_SUCCEEDED",e.SET_HAS_SESSION="SET_HAS_SESSION",e.UPDATE_NETWORK_STATUS="UPDATE_NETWORK_STATUS",e.UPDATE_CUR_TAB_FOCUSED="UPDATE_CUR_TAB_FOCUSED",e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED="UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",e.UPDATE_WORKSTATION_PANEL="UPDATE_WORKSTATION_PANEL",e.UPDATE_NEW_MESSAGE_FLAG="UPDATE_NEW_MESSAGE_FLAG",e.UPDATE_CHAT_WINDOW_STATUS="UPDATE_CHAT_WINDOW_STATUS",e.UPDATE_CONVERSATION_DETAIL_STATUS="UPDATE_CONVERSATION_DETAIL_STATUS",e.UPDATE_LOGIN_SUCCESS_STATUS="UPDATE_LOGIN_SUCCESS_STATUS",e.UPDATE_CHAT_ENTRY_STATUS="UPDATE_CHAT_ENTRY_STATUS",e.LOGIN_REQUESTED="LOGIN_REQUESTED",e.LOGIN_SUCCEEDED="LOGIN_SUCCEEDED",e.LOGOUT_REQUESTED="LOGOUT_REQUESTED",e.LOGOUT_SUCCEEDED="LOGOUT_SUCCEEDED",e.UPDATE_LOGIN_STATUS="UPDATE_LOGIN_STATUS",e.SHOW_TRANSLATION_GUIDE="SHOW_TRANSLATION_GUIDE",e.SHOW_REGION_FILTER_GUIDE="SHOW_REGION_FILTER_GUIDE",e.FORCE_LOGOUT_REQUESTED="FORCE_LOGOUT_REQUESTED",e.CONNECT_SOCKET="CONNECT_SOCKET",e.UPLOAD_FEEDBACK_VIDEO_REQUESTED="UPLOAD_FEEDBACK_VIDEO_REQUESTED",e.UPLOAD_FEEDBACK_VIDEO_STATUS="UPLOAD_FEEDBACK_VIDEO_STATUS",e.UPDATE_RELATED_CAPACITY="UPDATE_RELATED_CAPACITY",e.UPDATE_IS_MAIN_PAGE="UPDATE_IS_MAIN_PAGE",e.UPDATE_SHOW_AUTO_HANGUP_MODAL="UPDATE_SHOW_AUTO_HANGUP_MODAL",e.UPDATE_HAS_FETCHED_UNREAD="UPDATE_HAS_FETCHED_UNREAD",e.CHECK_USER_PERMISSION_SUCCEEDED="CHECK_USER_PERMISSION_SUCCEEDED",e.SET_SERVICE_DOWN_STATUS="SET_SERVICE_DOWN_STATUS",e.UPDATE_HAS_SIDEBAR_PANEL="UPDATE_HAS_SIDEBAR_PANEL",e.UPDATE_USE_NEW_CHAT_ENTRANCE="UPDATE_USE_NEW_CHAT_ENTRANCE",e.UPDATE_PERMISSIONS="UPDATE_PERMISSIONS"}(_t||(_t={}));var{updateNetworkStatus:Tt,updateShowAutoHangupModal:ft,updateUseNewChatEntrance:ht,updateChatWindowStatus:Ot,updateConversationDetailStatus:gt,updateLoginSuccessStatus:At,updateChatEntryStatus:Rt,updateHasFetchedUnread:mt,updateHasSidebarPanel:yt}=(0,I.createActions)({[_t.UPDATE_NETWORK_STATUS]:({networkStatus:e})=>({networkStatus:e}),[_t.UPDATE_SHOW_AUTO_HANGUP_MODAL]:({showAutoHangupModal:e})=>({showAutoHangupModal:e}),[_t.UPDATE_USE_NEW_CHAT_ENTRANCE]:({useNewChatEntrance:e})=>({useNewChatEntrance:e}),[_t.UPDATE_CHAT_WINDOW_STATUS]:({showChatWindow:e})=>({showChatWindow:e}),[_t.UPDATE_CONVERSATION_DETAIL_STATUS]:({showConversationDetail:e})=>({showConversationDetail:e}),[_t.UPDATE_LOGIN_SUCCESS_STATUS]:({loginSuccess:e})=>({loginSuccess:e}),[_t.UPDATE_CHAT_ENTRY_STATUS]:({showEntry:e})=>({showEntry:e}),[_t.UPDATE_HAS_FETCHED_UNREAD]:({hasFetchedUnread:e})=>({hasFetchedUnread:e}),[_t.UPDATE_HAS_SIDEBAR_PANEL]:({hasSidebarPanel:e})=>({hasSidebarPanel:e})});const Ct={[_t.UPDATE_NETWORK_STATUS]:nt(),[_t.UPDATE_SHOW_AUTO_HANGUP_MODAL]:nt(),[_t.UPDATE_USE_NEW_CHAT_ENTRANCE]:nt(),[_t.UPDATE_CHAT_WINDOW_STATUS]:(e,{payload:{showChatWindow:t}})=>{var r={};return!t||null!=e&&e.firstClickEntry||(r.firstClickEntry=!0),vt(vt({},e),{},{showChatWindow:t},r)},[_t.UPDATE_CONVERSATION_DETAIL_STATUS]:nt(),[_t.UPDATE_LOGIN_SUCCESS_STATUS]:nt(),[_t.UPDATE_CHAT_ENTRY_STATUS]:nt(),[_t.UPDATE_HAS_FETCHED_UNREAD]:nt(),[_t.UPDATE_HAS_SIDEBAR_PANEL]:nt()};var bt,Pt=r(672),Dt=r(598),It=r.n(Dt);!function(e){e[e.Disable=0]="Disable",e[e.Waiting=1]="Waiting",e[e.Up=2]="Up",e[e.Down=3]="Down"}(bt||(bt={}));var Nt=({messageId:e,feedback:t,conversationId:r,tagIds:o,reasonIds:n,otherReasons:a,bizId:s})=>new Promise(((c,i)=>{(0,C.fetch)({suffix:"feedback",resource:"messages",method:"POST",payload:JSON.stringify({msg_id:e,feedback:t,conversation_id:r,tag_ids:o,reason_ids:n,other_reason:a,biz_id:s})}).then((()=>{c()})).catch((e=>{i(e)}))}));function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{loginRequested:Lt,loginSucceeded:Ut,logoutRequested:Gt,logoutSucceeded:Ft,forceLogoutRequested:jt}=(0,I.createActions)({[_t.LOGIN_REQUESTED]:()=>({}),[_t.LOGIN_SUCCEEDED]:({currentUserId:e,status:t})=>({currentUserId:e,status:t}),[_t.LOGOUT_REQUESTED]:()=>({}),[_t.LOGOUT_SUCCEEDED]:()=>({}),[_t.FORCE_LOGOUT_REQUESTED]:()=>({})});function*kt(){var t=(0,o.getTranslationLocale)((0,o.getRuntimeLocale)()),r=yield(0,e.call)(C.getTranslation,{locale:t});yield(0,e.call)(o.changeLanguage,t,r)}function*Ht(){}var xt=function*(t){yield(0,e.call)(kt),yield(0,e.put)(Rt({showEntry:!0})),yield(0,e.put)(At({loginSuccess:!1}));var r,o=(0,C.getReportManager)();null==o||o.reportLoginFailed({type:(r=t,r instanceof C.InternalServerError?"InternalServerError":r instanceof C.Forbidden?"Forbidden":r instanceof C.Unauthoried?"Unauthoried":"Other")})};function*Yt(){try{var e=[];for(var[t,r]of Object.entries(window.localStorage))if(t.includes("MDAP_CONFIG_STORAGE_minichat_live_")){var o=t.split("_")||[],n=(o[o.length-1]||"").split(".")||[];if(n.length){var a=n[0]?Number(n[0]):"",s=n[1]?Number(n[1]):"",c=n[2]?Number(n[2]):"";(a&&a<8||s&&s<5||5===s&&c&&c<6)&&e.push(t)}}e.length&&e.forEach((e=>{window.localStorage.removeItem(e)}))}catch(e){console.log("删除MDAP发生错误")}}var Bt=function*(t){var r;try{r=yield(0,e.call)(C.getTranslation,{locale:t})}catch(t){r=yield(0,e.call)(C.getTranslation,{locale:(0,o.getTranslationLocale)((0,o.getRuntimeLocale)())})}r&&(yield(0,e.spawn)(o.setItem,"chat_translation",{resources:r,locale:t})),yield(0,e.call)(o.changeLanguage,t,r),yield(0,e.call)(o.updateTimeLocale,t)};function*Vt(t){var{resources:r,translationLocale:n}=(e=>{var t,r,n=(0,C.getReportManager)(),a=window.__CHATEASY_TRANSLATION__;if(!(0,o.checkEmptyObject)(a)&&!(0,o.checkEmptyObject)(a.collection)){null==n||n.reportFetchTranslationInHtml();var s={};Object.keys(a.collection).forEach((e=>{s=Object.assign(s,a.collection[e])})),t=s,r=window.__CHATEASY_LOCALE__}return{resources:t,translationLocale:r}})(),a=(0,C.getReportManager)();if(r)yield(0,e.call)(o.changeLanguage,n,r),yield(0,e.call)(o.updateTimeLocale,n),yield(0,e.spawn)(o.setItem,"chat_translation",{resources:r,locale:n});else{var s;s=(0,o.getMallTranslationLocale)(),null==a||a.reportFetchTranslationInService();var c=yield(0,e.call)(o.getItem,"chat_translation"),{resources:i,locale:l}=c||{};i&&l===s?(null==a||a.reportFetchTranslationAsync(),yield(0,e.call)(o.changeLanguage,s,i),yield(0,e.call)(o.updateTimeLocale,s),yield(0,e.spawn)(Bt,s)):(null==a||a.reportFetchTranslationSync(),yield(0,e.call)(Bt,s))}}function*Wt(t,r){try{var{godToken:n}=r,{user:a,show_chatbot_entrance:s}=t,{id:c,type:i,locale:l,distribution_status:_}=a,u=i===o.AccountType.SUBACCOUNT;window.__WEBCHAT_LOGIN__||u&&"working"===_&&(window.__WEBCHAT_LOGIN__=!0),yield(0,e.call)(Vt,l||"en"),performance.mark("APP_RENDERING"),(0,C.collectLoadTask)(),(0,C.mdapConfig)(i),(0,C.configTrackerUser)(a),yield(0,e.put)(ht({useNewChatEntrance:s})),yield(0,e.put)(Tt({networkStatus:"online"})),window.addEventListener("online",(()=>{Pt.store.dispatch(Tt({networkStatus:"online"}))})),window.addEventListener("offline",(()=>{Pt.store.dispatch(Tt({networkStatus:"offline"}))})),window.addEventListener("message",(e=>{var t;if("captcha-modal"===(null===(t=e.data)||void 0===t?void 0:t.type)){var r,n,a,s;if(3===(null===(r=e.data)||void 0===r?void 0:r.status)){var c,i,l,_=null===(c=e.data)||void 0===c?void 0:c.AC_CERT_D;_&&(0,o.isVisitingCn)()&&It().set("AC_CERT_D",_,{secure:!0,domain:"".concat(window.location.host),expires:new Date((new Date).getTime()+6e4)}),Pt.store.dispatch(Qo()),null===(i=(l=window).closeSFUCaptchaModal)||void 0===i||i.call(l)}1===(null===(n=e.data)||void 0===n?void 0:n.status)&&(Pt.store.dispatch(Vo()),null===(a=(s=window).closeSFUCaptchaModal)||void 0===a||a.call(s))}}),!1),yield(0,e.put)(At({loginSuccess:!0})),yield(0,e.put)(Rt({showEntry:!0}));var{entities:d}=(0,C.normalize)("users",a);yield(0,e.put)(N({entities:d})),yield(0,o.setItem)("mini-session",t),yield(0,e.put)(Ut({currentUserId:c})),yield(0,e.call)(lr),yield(0,e.put)((0,et.emptyAction)()),n||(yield(0,e.call)(et.startConnect)),yield(0,e.spawn)(Ht),u||(yield(0,e.call)(et.fetchShopSettings,{payload:{shopId:a.shop_id}})),yield(0,e.spawn)(Yt),window.addExternalGlobal("submitMessageFeedback",Nt)}catch(t){yield(0,e.call)(xt,t)}}function*Qt(){try{var t,r;performance.mark("APP_PREPARED");var n={},a=(0,C.getReportManager)();if(window.__WEBCHAT_SESSION__)null==a||a.reportLoginInHtml(),n=window.__WEBCHAT_SESSION__;else{null==a||a.reportLoginInService();var s={method:"POST",subServer:"coreapi",resource:"login"},c=(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)();s.params={source:"pcmall"},c&&(s.parent="cbsc"),n=yield(0,e.call)(C.fetch,s),window.__WEBCHAT_SESSION__=n}return performance.mark("LOGIN_API_RESPONSED"),o.LS.setItem("mini-session",JSON.stringify(n)),o.LS.setItem("chat-locale",JSON.stringify(null===(t=n)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.locale)),{session:n,params:{godToken:""}}}catch(t){yield(0,e.call)(xt,t)}}function*qt(){yield(0,e.takeLatest)(Lt,Qt),yield(0,e.takeLatest)(Gt,dr),yield(0,e.takeLatest)(jt,ur)}const zt={[_t.LOGIN_SUCCEEDED]:nt(),[_t.LOGOUT_SUCCEEDED]:e=>Mt(Mt({},e),{},{currentUserId:null,performance:{},closeHangupTips:!1,hasVideoPermission:!1,captchaVisible:!1,curTabFocused:!0})};var{updateIsMainPage:Kt,updateCurTabFocused:Xt,updateCurTabFocusedSucceeded:Jt}=(0,I.createActions)({[_t.UPDATE_IS_MAIN_PAGE]:({isMainPage:e})=>({isMainPage:e}),[_t.UPDATE_CUR_TAB_FOCUSED]:({focused:e})=>({focused:e}),[_t.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:({curTabFocused:e})=>({curTabFocused:e})});function*Zt({payload:{focused:t}}){t&&(yield(0,e.call)(et.tabFocused),yield(0,e.put)(Kt({isMainPage:!0}))),yield(0,e.put)(Jt({curTabFocused:t}))}function*$t(){yield(0,e.takeEvery)(Xt,Zt)}const er={[_t.UPDATE_IS_MAIN_PAGE]:nt(),[_t.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED]:nt()};var tr=/_([a-z])/g;function rr(e){return e.includes("_")?e.replace(tr,(function(e,t){return t.toUpperCase()})):e}function or(e){var t={};return Object.keys(e).forEach((r=>{var o=rr(r);!e[r]||"object"!=typeof e[r]||Array.isArray(e[r])?t[o]=e[r]:t[o]=or(e[r])})),t}var{setServiceDownStatus:nr}=(0,I.createActions)({[_t.SET_SERVICE_DOWN_STATUS]:e=>e});window.addExternalGlobal("setServiceDownStatus",nr);const ar={[_t.SET_SERVICE_DOWN_STATUS]:at("serviceDownStatus")};var{checkUserPermissionSucceeded:sr,updatePermissions:cr}=(0,I.createActions)({[_t.CHECK_USER_PERMISSION_SUCCEEDED]:({responseStatus:e,permissions:t})=>({responseStatus:e,permissions:t}),[_t.UPDATE_PERMISSIONS]:({permissions:e})=>({permissions:e})}),ir=()=>{try{return o.LS.getItem("minichat-service-down")||!1}catch(e){return!1}};function*lr(){var t=yield(0,e.select)(ae),{type:r,country:n}=t;try{var a=yield(0,e.call)(C.fetch,{subServer:"coreapi",parent:"user",resource:"global_config",params:{entry_point:"pc_mall"}}),{delete_msg:s,seller_buyer_split:c=!1,sender_feedback_reason:i={}}=a||{};window.__SENDER_FEEDBACK_TIMEOUT__=null==i?void 0:i.feedback_timeout;var l,_,u,d=or(a);if(d.shouldInitFSSDK="live"!==(0,o.getRuntimeServer)(),d.chatbotToggle=o.ChatbotToggle.Disable,["waitingTimeFilter","showChatServingFeature","sellerDriverWhitelist","amsToggleStatus","senderFeedbackBotMsg","showServingTab","rcmdWhitelist"].forEach((e=>{d[e]=!1})),window.addExternalGlobal("seller_buyer_split",c),"seller"===r){var{config_version:S,region_config:E=[]}=s||{},p=E.find((e=>e.region===n));p&&p.duration&&(d.deleteMsg.configVersion=S,d.deleteMsg.canDelete=!0,d.deleteMsg.duration=p.duration)}yield(0,e.put)(sr({responseStatus:!0,permissions:d})),void 0!==a.br_site_close&&(yield(0,e.put)(nr({alert:(null==a||null===(l=a.br_site_close)||void 0===l?void 0:l.site_close)||!1,closed:ir()})),window.__SERVICEDOWN_STATT_TIME__=(null==a||null===(_=a.br_site_close)||void 0===_?void 0:_.start_time)||0,window.__SERVICEDOWN_END_TIME__=(null==a||null===(u=a.br_site_close)||void 0===u?void 0:u.end_time)||0)}catch(t){yield(0,e.put)(sr({responseStatus:!0,permissions:null}))}}const _r={[_t.CHECK_USER_PERMISSION_SUCCEEDED]:nt(),[_t.UPDATE_PERMISSIONS]:nt()};var ur=function*(t=!0){t&&(yield(0,e.call)(et.closeConnect)),yield(0,e.put)(Ft()),yield(0,e.put)(To()),(0,o.removeItem)("mini-session"),(0,o.removeItem)("mini-sc_redirect")},dr=function*(){try{var t={server:(0,o.getSCApiServer)(),namespace:"",resource:"logout/",params:{SPC_CDS:It().get("SPC_CDS"),SPC_CDS_VER:2}};(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)()?(t.version="cnsc",t.parent="selleraccount"):t.version="v1",yield(0,e.call)(C.fetch,t),document.location.replace("https://".concat((0,o.getSellerCenterUrl)(),"/account/signin")),window.removeEventListener("online",(()=>{Pt.store.dispatch(Tt({networkStatus:"online"}))})),window.removeEventListener("offline",(()=>{Pt.store.dispatch(Tt({networkStatus:"offline"}))})),(0,C.clearApiCache)(),yield(0,e.call)(ur)}catch(t){t.handler?(0,e.call)(t.handler):console.error("[Logout Failed] ",t)}};function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pr=[qt,$t],vr=(0,I.handleActions)(Er(Er(Er(Er(Er({},er),_r),Ct),zt),ar),{networkStatus:"online",currentUserId:null,currentUser:{},curTabFocused:!0,isMainPage:!0,subaccountHasUnrepliedPermission:!1,showAutoHangupModal:!1,hasVideoPermission:!1,hasReplyPermission:!1,shouldInitFSSDK:!1,hasDeletePermission:!1,deleteConfigVersion:0,deleteConfigDuration:0,waitingTimeFilter:!1,showCrrDue:!1,hideFeedback:!1,showChatbotLoadingTime:0,disappearChatbotLoadingTime:0,textMaxInputLengh:600,loginSuccess:!0,showChatWindow:!1,showConversationDetail:!0,showEntry:!1,hasFetchedUnread:!1,hasSidebarPanel:!1,firstClickEntry:!1,serviceDownStatus:{alert:!1,closed:!1,list:!1,message:!1},permissions:null}),Tr=e=>(0,t.createSelector)(f,(t=>(0,W.denormalize)(e,C.shopSchema,{shops:t}))),fr=e=>{var t;return(null==e||null===(t=e.shopReducer)||void 0===t?void 0:t.fetchedShopIds)||[]},hr=e=>new Promise((t=>{(0,C.fetch)({parent:"conversation",resource:"unread-counts",params:{shop_ids:JSON.stringify(e)}}).then((({"unread-counts":e=[]})=>{t(e)})).catch((()=>{t([])}))}));function*Or({payload:{shopId:t}}){try{var r=yield(0,e.select)(Tr(t));r=yield(0,e.call)(C.fetch,{resource:"shop",id:t,params:{need_cache:1,cache_expires:600}});var{entities:o}=(0,C.normalize)("shops",r);return yield(0,e.put)(N({entities:o})),yield(0,e.put)((0,et.updateFetchedShopIds)({shopIds:[r.id]})),r}catch(e){return{}}}var gr=({shopIds:e})=>{var t={ids:JSON.stringify(e)};return new Promise((e=>{(0,C.fetch)({resource:"shop_list",params:t}).then((({shops:t=[]})=>{e(t)})).catch((()=>{e([])}))}))};function*Ar({payload:{shopId:t}}){try{return yield(0,e.call)(C.fetch,{parent:"shop",parentId:t,resource:"auth"})}catch(e){return{}}}var Rr,mr=e=>e.toastReducer.toast,yr=r(701).t,Cr=(e,t)=>{var r={};if(t){switch(t.type){case"auto-reply":e?t.first&&"enabled"===t.action?(r.message=yr("settings.enable_auto_reply_successfully"),r.show=!0):(r.message="",r.show=!1):(t.first&&"enabled"===t.action?r.message=yr("settings.failed_to_enable_auto_reply"):r.message="enabled"===t.action?yr("settings.failed_to_enable"):yr("settings.failed_to_disable"),r.show=!0);break;case"message":r.message=e?"save"===t.action?yr("settings.message.save_successfully"):"delete"===t.action?yr("settings.message.delete_successfully"):yr("settings.message.import_successfully"):"save"===t.action?yr("settings.message.failed_to_save"):"delete"===t.action?yr("settings.message.failed_to_delete"):yr("settings.message.failed_to_import"),r.show=!0;break;case"message-tips":e?(r.message="",r.show=!1):(r.message="enabled"===t.action?yr("settings.failed_to_enable"):yr("settings.failed_to_disable"),r.show=!0);break;case"forward":e||(r.message=403===t.status?yr("forward.exception",{forwardName:""}):yr("forward.server_error"),r.show=!0);break;case"send-feedback":r.message=yr("feedback_modal.error.failed_to_send"),r.show=!0;break;case"server-error-tips":r.message=yr("common.server_error.warning_tips"),r.show=!0;break;case"conversation-closed-tip":r.message=yr("conversation_detail.closed.warning_tips"),r.show=!0;break;case"permission-denied":r.message=yr("common.permission_denied"),r.show=!0;break;case"claim-voucher":r.message=yr(e?"voucher.claim.success":"voucher.claim.fail"),r.show=!0;break;case"claim-voucher-not-satisfy":r.message=yr("voucher.claim.fail_not_satisfy_rule"),r.show=!0;break;case"claim-voucher-already-claimed":r.message=yr("voucher.claim.fail_already_claimed"),r.show=!0;break;case"claim-voucher-no-longer-valid":r.message="claim_voucher.error.no_longer_valid",r.show=!0;break;case"claim-voucher-failed":r.message="claim_voucher.error.failed",r.show=!0;break;case"private-image":r.message=yr("common.image.expired"),r.show=!0;break;case"operation":"save"===t.action&&(r.message=yr(e?"text.save_successfully":"text.save_failed")),r.show=!0;break;default:r.message=t.message,r.show=!0}r.type=e?"success":"fail"}return r};!function(e){e.COPY_SUCCEED_FEEDBACK="COPY_SUCCEED_FEEDBACK",e.SET_TOAST_INFORMATION="SET_TOAST_INFORMATION",e.SET_TOAST_INFORMATION_SUCCEEDED="SET_TOAST_INFORMATION_SUCCEEDED"}(Rr||(Rr={}));var{copySucceedFeedback:br,setToastInformation:Pr,setToastInformationSucceeded:Dr}=(0,I.createActions)({[Rr.COPY_SUCCEED_FEEDBACK]:()=>({}),[Rr.SET_TOAST_INFORMATION]:({type:e,error:t,toast:r,extra:o})=>({type:e,error:t,toast:r,extra:o}),[Rr.SET_TOAST_INFORMATION_SUCCEEDED]:({toast:e})=>({toast:e})});function*Ir({payload:{type:t,error:r,toast:o,extra:n}}){if(yield(0,e.select)(Ae)){var a=null;t&&(a=Cr(!1,{type:t})),void 0!==r&&(a=r instanceof C.CustomError||r instanceof C.Webview?r.handler(null==n?void 0:n.toShopId):Cr(!1,{type:"server-error-tips"})),o&&(a=o),yield(0,e.put)(Dr({toast:a}))}}const Nr={[Rr.SET_TOAST_INFORMATION_SUCCEEDED]:nt()};var wr=r(701).t;function*Mr(){yield(0,e.put)(Pr({toast:Cr(!0,{message:wr("common.successful_copied")})}))}function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Ur,Gr=[function*(){yield(0,e.takeEvery)(Pr,Ir)},function*(){yield(0,e.takeEvery)(br,Mr)}],Fr=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Nr),{toast:{type:"",message:"",show:!1}}),jr=e=>e.messageShortcutGroupReducer||{groups:[],status:"",currentGroupType:-1,currentGroupId:-1},kr=(0,t.createSelector)(jr,(e=>e.status)),Hr=(0,t.createSelector)(jr,(e=>e.currentGroupType)),xr=(0,t.createSelector)(jr,(e=>e.currentGroupId)),Yr=(0,t.createSelector)(jr,(e=>e.groups)),Br=(0,t.createSelector)(Yr,(e=>e.filter((e=>e.group_type===o.MessageShortcutGroupType.PERSONAL)))),Vr=(0,t.createSelector)(Yr,(e=>e.filter((e=>e.group_type===o.MessageShortcutGroupType.TEAM)))),Wr=(0,t.createSelector)(Yr,Hr,((e,t)=>-1===t?e:e.filter((e=>e.group_type===t)))),Qr=(0,t.createSelector)(Br,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),qr=(0,t.createSelector)(Vr,(e=>e.reduce(((e,t)=>{var{message_shortcuts:r=[]}=t;return e.concat(r)}),[]))),zr=(0,t.createSelector)(Qr,qr,((e=[],t=[])=>[...e,...t])),Kr=(0,t.createSelector)(zr,(e=>[...e.filter((e=>!(null==e||!e.pin_time))).sort(((e,t)=>e.pin_time-t.pin_time)),...e.filter((e=>!(null!=e&&e.pin_time)))])),Xr=(0,t.createSelector)(Kr,Hr,xr,((e,t,r)=>{var o=-1===t?e:e.filter((e=>e.group_type===t));return-1===r?o:o.filter((e=>e.groupId===r))})),Jr=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.settings)||{}},Zr=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.needForceUpdate)||!1},$r=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.status)||""},eo=e=>{var t;return(null==e||null===(t=e.settingsReducer)||void 0===t?void 0:t.fetchStatus)||""},to=(0,t.createSelector)(Jr,(e=>e.auto_translation_status||"")),ro=(0,t.createSelector)(Jr,(e=>e.message_shortcuts_status||"")),oo=(0,t.createSelector)(Jr,(e=>e.legacy_message_shortcuts_count||0)),no=(0,t.createSelector)(Jr,(e=>e.distribution_account_status||"enabled")),ao=(0,t.createSelector)(Jr,(e=>e.display_banner||!1));function*so(){try{yield(0,e.put)((0,et.fetchSettingsStatus)({fetchStatus:o.DataFetchStatus.PENDING}));var t=Date.now(),r=yield(0,e.call)(C.fetch,{parent:"user",resource:"setting"}),n=(0,C.getReportManager)();return null==n||n.reportUserSettingApi(Date.now()-t),yield(0,e.put)((0,et.fetchSettingsSucceeded)({settings:r,fetchStatus:o.DataFetchStatus.SUCCEED,timestamp:Date.now(),needForceUpdate:!1})),r}catch(t){return yield(0,e.put)((0,et.fetchSettingsStatus)({fetchStatus:o.DataFetchStatus.FAILED})),{}}}!function(e){e.HANDLE_401_ERROR_REQUESTED="HANDLE_401_ERROR_REQUESTED",e.UPDATE_CONVERSATION_LISTS_HASH="UPDATE_CONVERSATION_LISTS_HASH",e.OPEN_MALL_URL="OPEN_MALL_URL"}(Ur||(Ur={}));var{openMallUrl:co}=(0,I.createActions)({[Ur.OPEN_MALL_URL]:({path:e,region:t,isAbsolute:r})=>({path:e,region:t,isAbsolute:r})}),io="xiapibuy.com";function*lo({payload:{path:t="",region:r="",isAbsolute:n=!1}}){if(n)window.open(t);else{var a,s=r?r.toLowerCase():(0,o.getRuntimeRegion)();"cn"!==s&&"kr"!==s||(s="my");var c=t?t.startsWith("/")?t:"/".concat(t):"";if((0,o.isVisitingCn)())try{var{data:i}=yield(0,e.call)(C.fetch,{url:"https://".concat((0,o.getSCApiServer)(),"/selleraccount/nonce/get/")}),l="".concat((0,o.cnDomainHash)(s),".").concat((0,o.envPrefix)()).concat(io),_=encodeURIComponent(window.btoa('{"next":"https://'.concat(l).concat(c,'"}')));c="/api/seller_platform/nonce/callback/?nonce=".concat(i.nonce,"&region=").concat(s,"&state=").concat(_),a="https://".concat(l).concat(c)}catch(e){a="https://".concat((0,o.cnDomainHash)(s),".").concat((0,o.envPrefix)()).concat(io).concat(c)}else a="https://".concat((0,o.domainPrefix)(),".").concat((0,o.domainSuffix)(s)).concat(c);window.open(a)}}var{handle401ErrorRequested:_o}=(0,I.createActions)({[Ur.HANDLE_401_ERROR_REQUESTED]:({resource:e})=>({resource:e})}),{updateConversationListsHash:uo}=(0,I.createActions)({[Ur.UPDATE_CONVERSATION_LISTS_HASH]:()=>({})}),So=[function*(){yield(0,e.takeEvery)(co,lo)}],Eo=(0,t.createSelector)(a,(e=>e.offers||{})),po=(e,r,n,a)=>(0,t.createSelector)(Eo,(t=>Object.values(t).filter((t=>t.product_id===a&&t.model_id===r&&t.conversation_id===e&&t.id!==n&&t.status===o.OfferStatus.PENDING)))),vo=e=>(0,t.createSelector)(a,(t=>(0,W.denormalize)(e,C.offerSchema,t))),{reduxReset:To}=(0,I.createActions)({REDUX_RESET:()=>({})});window.addExternalGlobal("resetAction",To);var fo=e=>{var t;return(null===(t=e.draftReducer)||void 0===t?void 0:t.draftHash)||{}},ho=e=>(0,t.createSelector)(fo,(t=>t[e]||"")),Oo=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.translationSettings)||{}},go=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.fetchSettingsStatus)||""},Ao=e=>{var t;return(null==e||null===(t=e.translatePreferenceReducer)||void 0===t?void 0:t.updateStatus)||""};function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*yo(t,r,o,n=[]){var a=t,s=[],c=[];Array.isArray(t)&&(a=((0,C.normalize)(o,t).entities||{})[o]||{}),r.forEach((t=>{var r=t.id,i=a[r];i?["conversations","agentConversations"].includes(o)&&(void 0!==i.faking||i.latestMessageStatus||void 0!==i.unreplied)?(delete(t=mo(mo({},i),t)).faking,delete t.latestMessageStatus,delete t.unreplied,t.manual&&(delete t.manual,t.unreplied=!1),c.push(t)):(n.length&&n.forEach((e=>{t[e]=i[e]})),s.push((0,e.put)(w({name:o,id:r,record:mo({},t)})))):c.push(t)})),c.length&&s.push((0,e.put)(N({entities:(0,C.normalize)(o,c).entities}))),yield(0,e.all)(s)}var Co,bo=e=>(0,t.createSelector)(S,(t=>(0,W.denormalize)(e,[C.productSchema],{products:t}))),Po=e=>(0,t.createSelector)(d,(t=>(0,W.denormalize)(e,[C.orderSchema],{orders:t}))),Do=e=>e.reportReducer.beingReported;!function(e){e.REPORT_REQUESTED="REPORT_REQUESTED",e.CLEAR_REPORT_REQUESTED="CLEAR_REPORT_REQUESTED"}(Co||(Co={}));var{reportRequested:Io,clearReportRequested:No}=(0,I.createActions)({[Co.REPORT_REQUESTED]:({event_time:e,url:t})=>({event_time:e,url:t}),[Co.CLEAR_REPORT_REQUESTED]:()=>({})});function wo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function*Lo(){var t=yield(0,e.select)(Do);if(t.length){var r=[...t];yield(0,e.put)(No()),r.sort(((e,t)=>Number(t.event_time)-Number(e.event_time))),yield(0,e.call)(C.fetch,{method:"POST",subServer:"coreapi",parent:"user",resource:"report_active",payload:JSON.stringify(Mo(Mo({},r[0]),{},{platform_id:(0,o.isVisitingCNSC)()||(0,o.isVisitingKRSC)()?2:1}))})}}const Uo={[Co.REPORT_REQUESTED]:(e,{payload:{event_time:t,url:r}})=>({beingReported:[...e.beingReported,{event_time:t,url:r}]}),[Co.CLEAR_REPORT_REQUESTED]:e=>({beingReported:[]})};function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Fo,jo=[function*(){for(;;)yield(0,e.delay)(6e4),yield Lo()}],ko=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Uo),{beingReported:[]});function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.ADD_NEED_CAPTCHA_REQUEST="ADD_NEED_CAPTCHA_REQUEST",e.DELETE_CAPTCHA_REQUEST="DELETE_CAPTCHA_REQUEST",e.CLEAR_NEED_CAPTCHA_REQUEST="CLEAR_NEED_CAPTCHA_REQUEST",e.RESEND_NEED_CAPTCHA_REQUEST="RESEND_NEED_CAPTCHA_REQUEST"}(Fo||(Fo={}));const Yo={[Fo.ADD_NEED_CAPTCHA_REQUEST]:(e,{payload:{request:t}})=>{var r=[...e.verifyRequests];return r.push(t),xo(xo({},e),{},{verifyRequests:r})},[Fo.DELETE_CAPTCHA_REQUEST]:e=>{var t=[...e.verifyRequests];return t.pop(),xo(xo({},e),{},{verifyRequests:t})},[Fo.CLEAR_NEED_CAPTCHA_REQUEST]:e=>xo(xo({},e),{},{verifyRequests:[]})};var{addNeedCaptchaRequest:Bo,deleteCaptchaRequest:Vo,clearNeedCaptchaRequest:Wo,resendNeedCaptchaRequest:Qo}=(0,I.createActions)({[Fo.ADD_NEED_CAPTCHA_REQUEST]:({request:e})=>({request:e}),[Fo.DELETE_CAPTCHA_REQUEST]:()=>({}),[Fo.CLEAR_NEED_CAPTCHA_REQUEST]:()=>({}),[Fo.RESEND_NEED_CAPTCHA_REQUEST]:()=>({})});function*qo(){try{var t=yield(0,e.select)(Jo);if(t.length)for(var r of(yield(0,e.put)(Wo()),t)){var{id:o,extra:n}=r;switch(o){case"unread-count":yield(0,e.spawn)(et.doRefreshTotalUnreadConversationsCount,n);break;case"unread-count-single":yield(0,e.spawn)(doRefreshSingleShopUnreadConversationCount,n);break;case"send-message":yield(0,e.put)((0,et.resendMessageRequested)(n));break;case"orders_by_buyer":case"purchased_list":yield(0,e.put)((0,et.fetchOrdersRequested)(n));break;case"fill-handler":yield(0,e.call)(et.fillActionHandler,n);break;case"top-banner":yield(0,e.put)((0,et.fetchTopBannerInfo)(n));break;case"item-list-my-shop":case"item-list-other-shop":yield(0,e.put)((0,et.fetchProductsRequested)(n))}}}catch(e){}}function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var Ko=(0,I.handleActions)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Yo),{verifyRequests:[]}),Xo=[function*(){yield(0,e.takeEvery)(Qo,qo)}],Jo=e=>e.captchaVerifyReducer.verifyRequests,Zo=e=>{var t;return(null===(t=e.translateReducer)||void 0===t?void 0:t.showOriginalMessages)||{}},$o=r(756),en=()=>(0,$o.useSelector)(X)||{},tn=r(156),rn=e=>{var[t,r]=(0,tn.useState)(null);return(0,tn.useEffect)((()=>{var t,o="tab_".concat(e),n=()=>{var e=document.getElementById(o);e&&(r(e),t&&t.disconnect())};return document.getElementById(o)?n():(t=new MutationObserver(n)).observe(document.body,{childList:!0,subtree:!0}),()=>{var e;return null===(e=t)||void 0===e?void 0:e.disconnect()}}),[e]),(0,o.isElementVisibleAtLeast)(t)};function*on(t,r,o){yield(0,e.takeEvery)(t,(function*(t){var n=t.payload.id;n?yield(0,e.race)({task:(0,e.call)(r,t),cancel:(0,e.take)((e=>e.type===o.toString()&&e.payload.id===n))}):yield(0,e.call)(r,t)}))}})(),p})())},53402:function(e,t,r){"use strict";e.exports=r(25061)},84701:function(e,t,r){var o,n,a;e.exports=(o=r(94184),n=r(86843),a=r(99468),(()=>{var e={8288:e=>{e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="chat-icon"><g clip-path="url(#clip0_265_12873)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.126 16.187a.75.75 0 101.061-1.06L11.06 10l5.127-5.127a.75.75 0 00-1.06-1.06L10 8.939 4.873 3.813a.75.75 0 10-1.06 1.06L8.939 10l-5.126 5.127a.75.75 0 001.06 1.06L10 11.061l5.126 5.126z"></path></g><defs><clipPath><path d="M0 0h20v20H0z"></path></clipPath></defs></svg>'},2828:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm0 6.292L4.88 4.172a.5.5 0 00-.765.637l.058.07L6.292 7l-2.12 2.121a.5.5 0 00.637.765l.07-.058L7 7.708l2.121 2.12a.5.5 0 00.765-.637l-.058-.07L7.708 7l2.12-2.121a.5.5 0 00-.637-.765l-.07.058-2.12 2.12-2.122-2.12L7 6.292z"></path></svg>'},9447:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm.302 9.56c-.16.183-.299.275-.39.275-.046 0-.07 0-.115-.023-.046-.023-.046-.069-.046-.138s.023-.252.092-.504c.023-.092.069-.276.138-.528l.825-3.004-.458.091c-.161.023-.436.07-.803.115-.39.046-.665.069-.872.092v.275c.23 0 .39.023.482.069.092.046.137.114.137.252v.069c0 .023 0 .046-.022.092l-.643 2.385c-.046.183-.091.321-.114.413a1.882 1.882 0 00-.07.413c0 .252.07.435.23.55.16.115.321.183.528.183.344 0 .665-.137.963-.435.184-.184.436-.528.78-1.032l-.23-.16c-.114.183-.275.366-.412.55zm-.108-6.198a.711.711 0 00-.532.218.711.711 0 00-.218.532c0 .218.072.388.218.533a.711.711 0 00.532.218.711.711 0 00.532-.218.711.711 0 00.218-.532.711.711 0 00-.218-.533.711.711 0 00-.532-.218z"></path></svg>'},3941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 14" class="chat-icon"><path d="M13.582 4.276a6.977 6.977 0 00-1.5-2.225A6.977 6.977 0 007.131 0a6.956 6.956 0 00-4.95 2.051A6.977 6.977 0 00.13 7.001a6.956 6.956 0 002.05 4.95A6.988 6.988 0 007.132 14c.945 0 1.863-.185 2.726-.55a6.951 6.951 0 002.224-1.5A6.988 6.988 0 0014.131 7c0-.944-.183-1.862-.549-2.724zm-6.45 6.663a.876.876 0 11.001-1.752.876.876 0 01-.002 1.752zm.875-7.004c0 .002 0 .002 0 0v.012a.793.793 0 01-.016.152l-.425 3.825a.438.438 0 01-.87.001l-.425-3.824a.793.793 0 01-.015-.152v-.034a.876.876 0 011.75 0v.02z"></path></svg>'},2248:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" class="chat-icon"><path d="M7 0a7 7 0 110 14A7 7 0 017 0zm3.146 4.929L6.097 8.978 3.854 6.734a.5.5 0 10-.708.707l2.598 2.598a.5.5 0 00.707 0l4.403-4.403a.5.5 0 00-.708-.707z"></path></svg>'},8310:e=>{"use strict";e.exports=o},8156:e=>{"use strict";e.exports=n},5473:e=>{"use strict";e.exports=a}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";r.r(s),r.d(s,{default:()=>O});var e=r(5473),t=r.n(e),o=r(8156),n=r.n(o),a=r(8310),c=r.n(a),i=r(2248),l=r.n(i),_=r(2828),u=r.n(_),d=r(3941),S=r.n(d),E=r(9447),p=r.n(E),v=r(8288),T=r.n(v);const f={root:"qk8HcS1veu",content:"i6xFxbUJy0","msg-alert":"V8PYjKIzUj",msgAlert:"V8PYjKIzUj",normal:"uEVHwkddgf",success:"CYIOIVrUNV",error:"qATiJNvRcf",warn:"NE4XGeVE_4",info:"SGbCqUvg1s",icon:"NLSosCWzVU","alert-icon":"n9Uin1AXqK NLSosCWzVU",alertIcon:"n9Uin1AXqK NLSosCWzVU","alert-icon-success":"BqNuyihNZm",alertIconSuccess:"BqNuyihNZm","alert-icon-error":"ilWTKnVD2h",alertIconError:"ilWTKnVD2h","alert-icon-info":"TWDtL150yN",alertIconInfo:"TWDtL150yN","alert-icon-warn":"MVyhYgfTfW",alertIconWarn:"MVyhYgfTfW","alert-close":"od5EZwbuyM",alertClose:"od5EZwbuyM","close-icon":"Yi576Kxch2 NLSosCWzVU",closeIcon:"Yi576Kxch2 NLSosCWzVU","need-float":"tyGNDMk_QD",needFloat:"tyGNDMk_QD"};var h={success:l(),error:u(),info:p(),warn:S()};const O=({type:e="warn",showIcon:r,closeable:o,onClose:a,content:s,icon:i,isBar:l,needFloat:_,className:u,contentClassName:d})=>{if(!s)return null;var S=c()(f["alert-icon-".concat(e)],f.alertIcon),E=c()(u,f.root,f[e],l?"":f.msgAlert,_?f.needFloat:"");return n().createElement("span",{className:E},r&&(i||n().createElement(t(),{svg:h[e],className:S})),n().createElement("span",{className:c()(f.content,d)},s),o&&n().createElement("div",{className:f.alertClose,onClick:e=>a&&a(e)},n().createElement(t(),{svg:T(),className:f.closeIcon})))}})(),s})())},92615:function(e,t,r){"use strict";e.exports=r(84701)},99468:function(e,t,r){var o,n;e.exports=(o=r(94184),n=r(86843),(()=>{"use strict";var e={8310:e=>{e.exports=o},8156:e=>{e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{r.r(a),r.d(a,{default:()=>c});var e=r(8156),t=r.n(e);const o="GHUxSkxNuJ";var n=r(8310),s=r.n(n);const c=e=>{var{svg:r,style:n={},className:a,onClick:c}=e,i=s()(o,a);return t().createElement("i",{onClick:c,style:n,className:i,dangerouslySetInnerHTML:{__html:r}})}})(),a})())},69193:function(e,t,r){"use strict";e.exports=r(99468)},22193:function(e,t,r){var o;e.exports=(o=r(86843),(()=>{"use strict";var e={8156:e=>{e.exports=o}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{default:()=>u});var e=r(8156),t=r.n(e);const o="SbG_pFWCiW",a="kOcjq_yQuK",s="Zk4z7tTqaE",c="HrQFl6UVN_",i="UCRIgeBPof",l="kmss6JpUXN kOcjq_yQuK",_="Q3uoPWJlY_",u=({isInit:e=!1,text:r})=>t().createElement("div",{className:o},t().createElement("div",{className:e?a:l},t().createElement("i",{className:s}),t().createElement("i",{className:c}),t().createElement("i",{className:i})),e&&r&&t().createElement("div",{className:_},r))})(),n})())},11876:function(e,t,r){"use strict";e.exports=r(22193)},76955:function(e,t,r){var o,n;e.exports=(o=r(94184),n=r(86843),(()=>{"use strict";var e={8310:e=>{e.exports=o},8156:e=>{e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{r.r(a),r.d(a,{default:()=>c});var e=r(8156),t=r.n(e),o=r(8310),n=r.n(o);const s={animation:"mtSDzvuYwh",breathe:"WxZczoU9Y2",line:"uYvboya2A0","line-first":"Ni__LTrxDO mtSDzvuYwh",lineFirst:"Ni__LTrxDO mtSDzvuYwh","line-second":"FpEp58JgHm mtSDzvuYwh",lineSecond:"FpEp58JgHm mtSDzvuYwh",square:"zccgav569R mtSDzvuYwh",circle:"Vm7b3BCuyS mtSDzvuYwh"},c=r=>{var{half:o=!1,type:a="line",children:c,className:i="",style:l}=r,_=(0,e.useMemo)((()=>n()(i,s[a])),[i,a]);return t().createElement("div",{className:_,style:l},"line"===a&&t().createElement(t().Fragment,null,t().createElement("div",{className:s.lineFirst}),!o&&t().createElement("div",{className:s.lineSecond})),c)}})(),a})())},27067:function(e,t,r){"use strict";e.exports=r(76955)},66069:function(e,t,r){var o;o=(e,t,r,o)=>(()=>{"use strict";var n={95:(e,t,r)=>{r.d(t,{D:()=>c,t:()=>i});var o=r(661),n=r.n(o),a=r(480),s=!1,c=(e,t,r="common")=>{s||((e,t)=>{s=!0;var r=t||(0,a.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},i=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>m,CE:()=>F,E3:()=>C,H9:()=>S,IE:()=>L,JS:()=>E,Jy:()=>I,L6:()=>G,NJ:()=>O,S1:()=>i,Tb:()=>P,Vm:()=>y,X7:()=>U,Y8:()=>f,YH:()=>M,Yc:()=>d,dV:()=>N,ef:()=>p,jq:()=>A,jz:()=>j,pM:()=>v,qk:()=>R,u7:()=>b,xC:()=>w,z$:()=>T});var o,n,a,s,c={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},i=(e,t,r)=>{o=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,a=r,s=c[o]||"en"},l=["my","br","mx","co","ar"],_=["id","th"],u=["us"],d=e=>l.includes(e)?"com.".concat(e):_.includes(e)?"co.".concat(e):u.includes(e)?"com":e,S=e=>"tw"===e?"xiapi":e.toLowerCase(),E=e=>d(e),p=()=>"live"===n?"":"".concat(n,"."),v=()=>"live"===n?"shopee":"".concat(n,".shopee"),T=()=>"cn"===o,f=()=>"kr"===o;function h(){return O()&&!T()}function O(){var e=window.location.hostname;return e&&e.includes("cn")}var g=(e,t)=>"seller"===e?"vn"!==t||h()?"seller":"banhang":e,A=(e,t)=>{var r,a=t?t.toLowerCase():o;return h()?((e,t)=>{var r=t?t.toLowerCase():o;return"".concat(g(e,r),".").concat(S(r),".").concat(v(),".").concat("cn")})(e,a):"".concat(g(e,a),".").concat((r=window.location.hostname,r&&r.includes("shopeebrasil")?"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil"):v()),".").concat(E(a))},R=e=>A("seller",e),m=e=>{var t=e?e.toLowerCase():o;return"seller-service.cs.".concat(v(),".").concat(E(t))},y=()=>"".concat(R(),"/webchat/api"),C=()=>"".concat(R(),"/api"),b=e=>{var t=e?e.toLowerCase():o;return"cn"!==t&&"kr"!==t||(t="my"),O()?"".concat(S(t),".").concat(p()).concat("xiapibuy.com"):"".concat(v(),".").concat(E(t))},P=()=>{var e=o;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(v(),".").concat(E(e))},D=["sg","my","th","ph","vn","id","tw","br"],I=e=>{var t=e?e.toLowerCase():o;if(T())return"https://s-cf-sg.shopeesz.com/file/";if(f())return"https://cf.shopee.sg/file/";var r=D.includes(t);return h()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(d(t),"/file/")},N=e=>{var t=e?e.toLowerCase():o;return"tw"===t&&O()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(d(t),"/file/")},w=()=>"https://".concat(A("seller"),"/webchat/conversations"),M=()=>"https://".concat(A("seller"),"/webchat"),L=()=>n,U=()=>o,G=()=>a,F=()=>s,j=()=>O()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},602:e=>{e.exports=t},661:t=>{t.exports=e},598:e=>{e.exports=r},349:e=>{e.exports=o}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{s.r(c),s.d(c,{AccountType:()=>Pe,ActionType:()=>m,AffiliateTypeEnum:()=>X,AlertType:()=>we,AllChatsFolders:()=>_e,BannerTypeEnum:()=>oe,BizIdEnum:()=>k,ChatWithTypeEnum:()=>j,ChatWithTypeMap:()=>ee,ChatbotFromType:()=>pe,ChatbotPauseEntranceTypes:()=>R,ChatbotToggle:()=>ve,ConversationListTab:()=>te,ConversationSource:()=>me,ConversationTypeEnum:()=>F,CustomShareEvent:()=>xe,DataFetchStatus:()=>Y,LS:()=>Yt,LogisticsCardLabel:()=>d,LogisticsEntranceTypes:()=>f,LogisticsMessageTypes:()=>wo,MAX_MEDIA_NUM:()=>a,MAX_Z_INDEX:()=>Be,MINI_MIN_TEXT_BOX_HEIGHT:()=>E,ManualMessageSource:()=>w,MessageErrorCode:()=>n,MessageLabelType:()=>v,MessageOption:()=>e,MessageSendStatus:()=>o,MessageShortcutGroupType:()=>i,MessageSource:()=>ye,MessageTypes:()=>r,NoticeOrderTitle:()=>p,OfferStatus:()=>Q,OfficialConvType:()=>H,OperationStatus:()=>B,OrderDeliveryStatus:()=>S,OrderDeliveryStatusKeyMap:()=>T,QueueStatusEntranceType:()=>A,RREntranceTypes:()=>h,RRNoticeTypes:()=>g,ReturnCardStatus:()=>l,ReturnSolution:()=>_,SellerUnreadStatus:()=>de,ServeTodayFolders:()=>le,ServeTodayFoldersV2:()=>ue,ServeTodayTab:()=>ie,ShareDataType:()=>Ye,SlaType:()=>u,SocketConnectionStatus:()=>q,SocketToAlertType:()=>Me,StartChatErrorCode:()=>Ne,StorageKey:()=>He,SubAccountChatTypeMap:()=>$,SubAccountRole:()=>be,SubAccountTagMap:()=>Z,SwitchStatus:()=>V,TrackRRType:()=>O,TrackerOperation:()=>Ie,TranslationStatus:()=>W,UnreadSource:()=>Ce,capitalizeFirstLetter:()=>$e,changeLanguage:()=>nn.D,chatbotLabelText:()=>I,chatbotProductCard:()=>Mo,checkAIBannerGuide:()=>Ut,checkAssistantHighlightGuide:()=>Ft,checkAutoReplyHighlightGuide:()=>jt,checkEmptyObject:()=>Ve,checkMiniUnrepliedGuide:()=>Gt,checkRegionFilterGuide:()=>kt,checkSpecialShops:()=>Xt,cnDomainHash:()=>Xe.H9,compareSameDayOfTimestamp:()=>ft,customizeTime:()=>pt,debounce:()=>Nt,defaultLocalInMall:()=>je,detectTextAndTimestamp:()=>$o,domainHash:()=>Xe.Yc,domainPrefix:()=>Xe.pM,domainSuffix:()=>Xe.JS,envPrefix:()=>Xe.ef,escapeRegex:()=>zo,fillMessagePreview:()=>Bo,formatMessageTime:()=>Tt,formatTransifyKeyWithNumber:()=>Dt,getApiServer:()=>Xe.Vm,getCDNUrl:()=>Xe.jz,getConversationStatusTag:()=>en,getCurrentTimestampString:()=>Ko,getCustomMessageText:()=>bo,getDefaultFolderStatus:()=>Ae,getDefaultFolderStatusV2:()=>Re,getFileServer:()=>Xe.Jy,getFormattedTime:()=>vt,getGlobalConfigTranslatedText:()=>on,getHasSameSourceAndTarget:()=>xo,getItem:()=>Bt,getLANGUAGE_MAPPING_V2Key:()=>nt,getLocaleText:()=>Ho,getLogisticsCardTitle:()=>Wo,getLogisticsIssueCardTitle:()=>Qo,getMallTranslationLocale:()=>it,getMallUrl:()=>Xe.u7,getMallUrlIgnoreCn:()=>Xe.Tb,getMessageIsSend:()=>qo,getProjectUrl:()=>Xe.jq,getRRMessageTitle:()=>Vo,getRequestBizId:()=>fe,getRowHeight:()=>ce,getRuntimeLocale:()=>Xe.CE,getRuntimeRegion:()=>Xe.X7,getRuntimeServer:()=>Xe.IE,getRuntimeVersion:()=>Xe.L6,getSCApiServer:()=>Xe.E3,getSellerCenterUrl:()=>Xe.qk,getSellerServiceUrl:()=>Xe.$S,getServiceLocale:()=>ct,getSystemMessageByLocale:()=>Yo,getTextMessagePreviewShowTranslation:()=>Fo,getTranslatedText:()=>rn,getTranslationLocale:()=>at,getUrlParam:()=>It,getVideoServer:()=>Xe.dV,getWebChatPureUrl:()=>Xe.YH,getWebChatUrl:()=>Xe.xC,greaterThan:()=>Qe,hasTargetMessageOption:()=>jo,init:()=>Xe.S1,isConversationRead:()=>Ee,isConversationUnread:()=>Se,isDeletedMessage:()=>ko,isElementFullyInViewport:()=>De,isElementVisibleAtLeast:()=>tn,isMessageLabelType:()=>D,isVisitingCNSC:()=>Xe.z$,isVisitingCn:()=>Xe.NJ,isVisitingKRSC:()=>Xe.Y8,localeInMallToTspLocale:()=>ke,newFormatMessageTime:()=>Ot,persistLimit:()=>Qt,previewMessage:()=>Uo,removeItem:()=>Wt,searchHighlightConversation:()=>Te,setItem:()=>Vt,showAIAssistantLabel:()=>y,showChatbotLabel:()=>b,showReviewLabel:()=>C,showTcsLink:()=>P,showVideoMessageTypes:()=>N,simpleEqualCheck:()=>We,subAccountAffiliateBiz:()=>J,throttle:()=>wt,trackerMap:()=>re,unifyLocale:()=>tt,updateTimeLocale:()=>ut});var e,t=s(95).t,r={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance",MSG_TYPE_INSURANCE_CS_GUIDE:"insurance_cs_guide",MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:"faq_bot_review_summary_card",MSG_TYPE_FAQ_BOT_GALLERY_CARD:"faq_bot_buyer_gallery_card",MSG_TYPE_RESTOCK_REMINDER_CARD:"bot_restock_reminder_card",MSG_TYPE_OUT_STOCK_CARD:"bot_out_stock_card",MSG_TYPE_FAQ_BOT_TIMELINE_CARD:"faq_bot_timeline_card",MSG_TYPE_BOT_BARGAIN_CARD:"faq_bot_price_history_card",MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:"faq_bot_authentic_card",MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:"faq_bot_contact_courier_card",MSG_TYPE_RAISE_RR_CARD:"rr_entrance_card",MSG_TYPE_INQUIRY_RR_OPERATION_CARD:"track_rr_status_card",MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD:"rr_operate_feedback_card",MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON:"faq_type_bot_item_comparison",MSG_TYPE_INFORM_PROMOTION:"crm_bundle_item_inform_promotion",MSG_TYPE_NEW_ARRIVAL:"crm_bundle_item_new_arrival",MSG_TYPE_CUSTOM_MESSAGE:"crm_bundle_item_custom_message",MSG_TYPE_TEXT_WITH_BUBBLE:"text_with_bubble",MSG_TYPE_QUESTION_LIST:"question_list",MSG_TYPE_RICH_TEXT:"rich_text",MSG_TYPE_FAQ_BOT_SUGGESTION_CARD:"bot_text_with_suggestion_card",MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT:"bot_voucher_product",MSG_TYPE_SET_STOCK_REMINDER_CARD:"out_of_stock_reminder_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD:"faq_bot_raise_rr_card",MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD:"faq_bot_raise_rr_feedback_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD:"faq_bot_track_rr_status_card",MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD:"faq_bot_operate_rr_feedback_card",MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS:"faq_bot_item_collections",MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT:"faq_bot_text_with_shortcut",MSG_TYPE_FAQ_BOT_PRODUCT:"product_new",MSG_TYPE_FAQ_BOT_SELECT_PRODUCT:"faq_bot_select_product",MSG_TYPE_OFFICIAL_CHAT_BANNER:"official_chat_banner",MSG_TYPE_OFFICIAL_CHAT_VOUCHER:"official_chat_voucher",MSG_TYPE_OFFICIAL_CHAT_REPAYMENT:"official_chat_repayment",MSG_TYPE_CREDIT_CS_GUIDE:"cs_guide",MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT:"faq_bot_voucher_fulfillment",MSG_TYPE_FAQ_BOT_MARKDOWN:"markdown",MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD:"faq_bot_item_video_card"},o={SENDING:1,FAILED:2,SUCCEED:3,DELIVERY:4,READ:5},n={SENDER_FORBIDDEN:27,FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,FAQ_PAUSED:55,SYSTEM_SEND_RATE_CARD:56,MESSAGE_REPETITIVE_LEVEL_1:57,DEFAULT:-1},a=9,i={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var l,_,u,d,S,E=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(l||(l={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(_||(_={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(u||(u={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(d||(d={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(S||(S={}));var p,v,T={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},f=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],h=["rr_entrance","noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],O="noti_type_track_return_refund_switch_order",g=["noti_type_raise_return_refund_switch_order","noti_type_track_return_refund_switch_order"],A="choice_queue_status",R=["noti_type_seller_send_message_in_chatbot","noti_type_seller_pause_chatbot"];!function(e){e.rr_entrance="modal.select_order.title",e.noti_type_raise_return_refund_switch_order="modal.select_raise_rr_order.title",e.noti_type_track_return_refund_switch_order="modal.select_track_rr_order.title"}(p||(p={})),function(e){e[e.AUTO_REPLY=1]="AUTO_REPLY",e[e.OFFWORK_AUTO_REPLY=2]="OFFWORK_AUTO_REPLY",e[e.CHAT_ASSISTANT=3]="CHAT_ASSISTANT",e[e.CHAT_ASSITANT_WITH_TCS=4]="CHAT_ASSITANT_WITH_TCS",e[e.CHAT_ASSISTANT_WITH_REVIEW=5]="CHAT_ASSISTANT_WITH_REVIEW",e[e.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS=6]="CHAT_ASSISTANT_WITH_REVIEW_AND_TCS"}(v||(v={}));var m,y=e=>[v.CHAT_ASSISTANT,v.CHAT_ASSITANT_WITH_TCS].includes(e),C=e=>[v.CHAT_ASSISTANT_WITH_REVIEW,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e),b=e=>y(e)||C(e),P=e=>[v.CHAT_ASSITANT_WITH_TCS,v.CHAT_ASSISTANT_WITH_REVIEW_AND_TCS].includes(e),D=e=>Object.values(v).includes(e),I=e=>y(e)?t("message.label_type.ai_assistant"):C(e)?t("message.label_type.support_review"):"";!function(e){e.Call="call",e.Email="email",e.WhatsApp="whatsapp",e.Line="line",e.Facebook="facebook",e.Dots="3dots"}(m||(m={}));var N=[r.MSG_TYPE_VIDEO,r.MSG_TYPE_PRODUCT,r.MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD],w=["old_webchat","new_webchat","ios","android","mini_webchat","pc_mall_minichat","mweb","openapi","ios_minichat","android_minichat"];function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F,j,k,H,x={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},Y=G(G({},x),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),B=G(G({},x),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),V={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},W={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},Q={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},q={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(F||(F={})),function(e){e.Buyer="buyer",e.Driver="driver",e.Affiliate="affiliate"}(j||(j={})),function(e){e[e.Buyer=0]="Buyer",e[e.SubAccount=2]="SubAccount",e[e.Driver=9]="Driver",e[e.Affiliate=11]="Affiliate",e[e.Chatbot=12]="Chatbot",e[e.MCN=14]="MCN",e[e.KOL=15]="KOL"}(k||(k={})),function(e){e[e.OFFICIAL_CREDIT=1]="OFFICIAL_CREDIT"}(H||(H={}));var X,J=[k.MCN,k.KOL],Z={[k.SubAccount]:"buyer",[k.MCN]:"mcn",[k.KOL]:"kol"},$={[j.Buyer]:[k.SubAccount],[j.Affiliate]:[k.KOL,k.MCN]},ee={[j.Buyer]:k.Buyer,[j.Driver]:k.Driver,[j.Affiliate]:k.Affiliate},te={TODAY:"today",ALL:"all"},re={[te.ALL]:"all_chats",[te.TODAY]:"serving_today"};!function(e){e[e.KOL=1]="KOL",e[e.MCN=2]="MCN"}(X||(X={}));var oe,{itemHeight:ne}={itemHeight:{conversationCellForBCSubAccount:84,conversationCellForBCSubAccountTH:94,conversationCell:62,conversationCellTH:70,shopCardCell:212,shopListCell:72,voucherCell:146,conversationShopListCell:60,dropdownShopListCell:44,contactCell:48},itemWidth:{shopCardCell:356}},{conversationCellForBCSubAccount:ae,conversationCell:se}=ne,ce=e=>e?ae:se,ie={PINNED:"pinned",UNREPLIED:"unreplied",AUTOREPLY:"auto_replied",MANUALREPLY:"manually_replied",ALL_BUYERS:"all_buyers",BUYER_TO_PAY:"to_pay",INQUIRY_WITHOUT_ORDER:"inquiry_without_order"},le=[ie.PINNED,ie.UNREPLIED,ie.AUTOREPLY,ie.MANUALREPLY],_e=[ie.BUYER_TO_PAY,ie.INQUIRY_WITHOUT_ORDER,ie.ALL_BUYERS],ue=[ie.UNREPLIED,ie.PINNED,ie.AUTOREPLY,ie.MANUALREPLY],de={SHOW:1,HIDE:2},Se=(e={})=>{var{unread_count:t=0,seller_unread_status:r}=e;return"number"==typeof t&&t>0||r===de.SHOW},Ee=(e={})=>0===e.unread_count&&e.seller_unread_status!==de.SHOW;!function(e){e[e.GET=0]="GET",e[e.UPDATE_PRODUCT=1]="UPDATE_PRODUCT",e[e.UPDATE_ORDER=2]="UPDATE_ORDER",e[e.UPDATE_RECOMMEND=7]="UPDATE_RECOMMEND"}(oe||(oe={}));var pe,ve,Te=e=>{var t,r,o,n,a,s,c=null===(t=e.find((e=>"auto_replied"===e.type)))||void 0===t?void 0:t.conversations,i=null===(r=e.find((e=>"pinned"===e.type)))||void 0===r||null===(o=r.conversations)||void 0===o?void 0:o.map((e=>null==e?void 0:e.id)),l=null===(n=e.find((e=>"unreplied"===e.type)))||void 0===n?void 0:n.conversations,_=null==l||null===(a=l.find((e=>{var t;return"exit_faq"===(null===(t=e.latest_message_content)||void 0===t?void 0:t.notification_type)})))||void 0===a?void 0:a.id;return[null==c||null===(s=c.find((e=>!i.includes(e.id))))||void 0===s?void 0:s.id,_]},fe=(e,t)=>t?k.Chatbot:e,he=le[0],Oe=le.slice(0),ge={[le[1]]:!1,[le[0]]:!1,[le[2]]:!1,[le[3]]:!1},Ae=(e,t,r)=>{var o=null==r?void 0:r.length;if(t&&4===Object.keys(e).length){var n=K({},ge);n[he]=e[he];var a=Oe.find((t=>e[t]));return a&&(n[a]=!0),o&&(n.upreplied=!0,n.auto_replied=!0),n}return null},Re=(e,t,r)=>{var[o,n]=r,a={serveTodaySingleFolderStatus:"",singleFolderStatus:""};if(t){var s="",c="";ue.every((t=>{var r;return null===(r=Object.keys(e))||void 0===r?void 0:r.includes(t)}))&&((s=ue.find((t=>e[t]))||"")&&(o?s=ie.AUTOREPLY:n&&(s=ie.UNREPLIED)),a=K(K({},a),{},{serveTodaySingleFolderStatus:s})),_e.every((t=>{var r;return(null===(r=Object.keys(e))||void 0===r?void 0:r.includes(t))||t===ie.ALL_BUYERS}))&&(c=_e.find((t=>e[t]))||"",a=K(K({},a),{},{singleFolderStatus:c}))}return a},me={SYNC:4,SELECTOR:13},ye={SEND:7},Ce={PRELOAD:1},be={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},Pe={SELLER:"seller",SUBACCOUNT:"subaccount"},De=e=>{if(!e)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth},Ie={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover",ACTION_TOGGLE_ON_SUCCESS:"action_toggle_on_success",ACTION_TOGGLE_OFF_SUCCESS:"action_toggle_off_success",ACTION_DISAPPEAR:"action_disappear",ACTIVATE_CHATBOT_SUCCESS:"activate_chatbot_success"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(pe||(pe={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(ve||(ve={}));var Ne,we={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},Me={pending:we.warn,error:we.error,resolved:we.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(Ne||(Ne={}));var Le,Ue,Ge,Fe,je={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},ke={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil",my:"my",km:"km"},He={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},xe={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},Ye={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},Be=199999,Ve=e=>!e||0===Object.keys(e).length,We=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Qe=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,o=(t+="").length;if(r!==o)return r>o;var n=e.split(""),a=null;return n.forEach(((e,r)=>{"boolean"!=typeof a&&(a=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!a},qe=s(602),ze=s(598),Ke=s.n(ze),Xe=s(480),Je=["hans","hant"],Ze=["my","en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil","km"],$e=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),et=e=>{if(e.includes("-")){var t=e.split("-");return Je.includes(t[1])?"".concat(t[0],"-").concat($e(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},tt=e=>{var t=(e||"en").toLowerCase(),r="en";for(var o of Ze)if(o.includes(t)){r=et(o);break}return r},rt={en:"default","ms-MY":"ms","th-TH":"th",th:"th","zh-Hans":"zh-Hans","zh-Hant":"zh-Hant","vi-VN":"vi",vi:"vi","id-ID":"id",id:"id","zh-CN":"zh-Hans","pt-BR":"pt-BR",hi:"hi","es-MX":"es-MX","es-CO":"es-CO","es-CL":"es-CL",pl:"pl","es-ES":"es-ES",fr:"fr","es-AR":"es-AR",fil:"ph",my:"my",km:"km"},ot={en:"SG",ms:"MY",th:"TH","zh-Hans":"CN","zh-Hant":"TW",vi:"VN",ph:"PH",id:"ID","pt-BR":"BR","es-MX":"MX","es-CO":"CO","es-CL":"CL","es-AR":"AR",fr:"FR",pl:"PL","es-ES":"ES",hi:"IN",fil:"PH",my:"MM",default:"SG",km:"VN"},nt=e=>{var t=tt(e);return ot[rt[t]]||ot.default},at=e=>{var t=tt(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},st={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn",km:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil",my:"my"},ct=e=>{var t=tt(e);return st[t]||"default"},it=()=>{var e,t=Ke().get("language");if(t)e=ke[t]||"en";else{var r=je[(0,Xe.X7)()]||"en";e=ke[r]||"en"}return e},lt=s(95).t,_t=()=>{},ut=e=>{var t=nt(e);Le=t;var r=(0,qe.getBoundUtils)(t,e);_t=r.formatTime},dt=e=>_t(e,"hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(Ue||(Ue={})),function(e){e[e.Time=0]="Time"}(Ge||(Ge={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(Fe||(Fe={}));var St,Et=e=>{var{value:t,date:r,suffix:o,prefix:n}=e,a="",s="";if(n&&(a=lt("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),o){var c=o.type===Ge.Time?dt(r):"";s=(void 0===o.separator?", ":o.separator)+c}return a+t+s};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(St||(St={}));var pt=(e,t)=>{var{noTodayFlag:r,noTimeFlag:o,needFullFormat:n,onlyKeepDate:a,isConvPreview:s}=t||{},c=new Date(e),i=_t(e,{month:"short",day:"short",year:"long"});if(n)return Et({value:i,date:c,suffix:{type:Ge.Time}});if(a)return i;var l=["tw","cn"].includes(Le.toLowerCase()),_=((e,t)=>{var r=new Date,o=new Date(e);if(t){var n=r-o,a=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-a+864e5)return St.ThisWeek}if(r.getFullYear()===o.getFullYear()){if(r.getMonth()===o.getMonth()){var s=r.getDate(),c=o.getDate();return s===c?St.Today:s-1===c?St.Yesterday:St.ThisMonth}return St.ThisYear}return St.NONE})(e,s);switch(_){case St.Today:var u=r?void 0:{type:Ue.Today},d={type:Ge.Time,separator:""};return Et({value:"",date:c,prefix:u,suffix:d});case St.Yesterday:var S={type:Ue.Yesterday},E=o?void 0:{type:Ge.Time,separator:""};return Et({value:"",date:c,prefix:S,suffix:E});case St.ThisWeek:return lt("common.".concat(Fe[new Date(e).getDay()]));case St.ThisMonth:case St.ThisYear:var p=o?void 0:{type:Ge.Time};return Et({value:_t(e,s?l?"MM/dd":"dd/MM":{month:"short",day:"short"}),date:c,suffix:p});default:var v=o?void 0:{type:Ge.Time};return Et({value:_t(e,s?l?"yy/MM/dd":"dd/MM/yy":{month:"short",day:"short",year:"long"}),date:c,suffix:v})}},vt=(e,t="")=>_t(e,t||"yyyy-MM-dd hh:mm"),Tt=e=>{var{created_at:t,created_timestamp:r}=e;return pt(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},ft=(e,t)=>_t(e,{month:"short",day:"short",year:"long"})===_t(t,{month:"short",day:"short",year:"long"}),ht={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},Ot=(e,t)=>{var r=1e3*e;switch(t){case"time":return dt(r);case"date":var o=new Date,n=new Date(r);if(o.getFullYear()===n.getFullYear()){if(o.getMonth()===n.getMonth()){var a=o.getDate(),s=n.getDate();if(a===s)return lt("conversation_detail.message_list.today");if(a-1===s)return lt("conversation_detail.message_list.yesterday");if(a-s<7){var c=n.getDay();return lt("common.".concat(ht[c]))}return _t(r,{month:"short",day:"short"})}return _t(r,{month:"short",day:"short"})}return _t(r,{month:"short",day:"short",year:"long"})}},gt=s(661),At=s.n(gt),Rt=e=>0===e||1===e?"one":e>=1e6?"many":"other",mt=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",yt=e=>e<=1?"one":"other",Ct={fr:Rt,pl:mt,default:yt},bt={fr:(e,t)=>"".concat(Rt(e),".").concat(Rt(t)),pl:(e,t)=>"".concat(mt(e),".").concat(mt(t)),default:(e,t)=>"".concat(yt(e),"_").concat(yt(t))},Pt=["fr","pl"],Dt=(e,t,r)=>{var o=At().language||"en",n=Pt.includes(o)?o:"default";return void 0!==r?"".concat(e,"_").concat(bt[n](t,r)):"".concat(e,"_").concat(Ct[n](t))},It=(e,t)=>{var r=t||window.location.search,o=null;if(r){var n=r.indexOf("?")+1,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");o=r.substr(n).match(a)}return o?unescape(o[2]):null},Nt=(e,t=200,r=1e3)=>{var o,n=Date.now();return(...a)=>{o&&(clearTimeout(o),o=null),Date.now()-n>r?(e(...a),n=Date.now()):o=window.setTimeout((()=>{e(...a),n=Date.now()}),t)}},wt=function(e,t,r={}){var o,n,a,s=null,c=0,i=function(){c=!1===r.leading?0:(new Date).getTime(),s=null,a=e.apply(o,n),s||(o=n=null)};return function(...l){var _=(new Date).getTime();c||!1!==r.leading||(c=_);var u=t-(_-c);return o=this,n=l,u<=0||u>t?(s&&(clearTimeout(s),s=null),c=_,a=e.apply(o,n),s||(o=n=null)):s||!1===r.trailing||(s=window.setTimeout(i,u)),a}},Mt="modal",Lt=(e,t)=>{var{superType:r,secondaryType:o}=t,n=e.find((e=>e.name===r));if(n){var a=n.children;if(a.length){var s=a.find((e=>e.name===o));return s||!1}return!1}return!1},Ut=e=>Lt(e,{superType:"AI-Banner",secondaryType:Mt}),Gt=e=>Lt(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:Mt}),Ft=e=>Lt(e,{superType:"Onboarding-Highlight-Assistant",secondaryType:Mt}),jt=e=>Lt(e,{superType:"Onboarding-Highlight-AutoReplied",secondaryType:Mt}),kt=e=>!!window.__WEBCHAT_SESSION__.use_top_region_ui&&Lt(e,{superType:"Region-Filter",secondaryType:Mt}),Ht=s(349),xt=s.n(Ht),Yt={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var o=r?JSON.stringify(t):t;window.localStorage.setItem(e,o)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},Bt=(e,t=!1)=>t?Yt.getItem(e):xt().getItem(e),Vt=(e,t)=>xt().setItem(e,t),Wt=(e,t)=>t?Yt.removeItem(e):xt().removeItem(e),Qt=xt().supports(xt().INDEXEDDB)||xt().supports(xt().WEBSQL)?1e3:100,qt=[1173241077,1261497292,1262080160,178828848,110573301,51115741],zt=[601262932,601263083],Kt=[441174],Xt=e=>{var t=(0,Xe.IE)();return("live"===t?qt:"staging"===t?Kt:zt).includes(e)},Jt=s(95).t;function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:er,MSG_TYPE_IMAGE:tr,MSG_TYPE_OFFER:rr,MSG_TYPE_PRODUCT:or,MSG_TYPE_ORDER:nr,MSG_TYPE_STICKER:ar,MSG_TYPE_NOTIFICATION:sr,MSG_TYPE_VOUCHER:cr,MSG_TYPE_ITEM_LIST:ir,MSG_TYPE_FAQ:lr,MSG_TYPE_FAQ_QUESTION:_r,MSG_TYPE_FAQ_LIVEAGENT:ur,MSG_TYPE_FAQ_FEEDBACK:dr,MSG_TYPE_FAQ_UNSUPPORTED:Sr,MSG_TYPE_FAQ_FEEDBACK_PROMPT:Er,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:pr,MSG_TYPE_BUNDLE_MESSAGE:vr,MSG_TYPE_OPTION_PACK:Tr,MSG_TYPE_SELECTED_OPTION:fr,MSG_TYPE_VIDEO:hr,MSG_TYPE_IMAGE_WITH_TEXT:Or,MSG_TYPE_RATE_CARD:gr,MSG_TYPE_NEW_FAQ:Ar,MSG_TYPE_FAQ_CATEGORY_CHOICE:Rr,MSG_TYPE_FAQ_QUESTION_LIST:mr,MSG_TYPE_FAQ_TYPE_CHOICE:yr,MSG_TYPE_FAQ_CATEGORY_LIST:Cr,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:br,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:Pr,FAQ_TYPE_BOT_RESPONSE_MESSAGE:Dr,MSG_TYPE_SHOPPING_CART:Ir,MSG_TYPE_CRM_ITEM_LIST:Nr,MSG_TYPE_RR:wr,MSG_TYPE_CRM_ORDER_RATE:Mr,MSG_TYPE_LOGISTICS_CARD:Lr,MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:Ur,MSG_TYPE_EXPEDITED_LOGISTICS_CARD:Gr,MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:Fr,MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:jr,MSG_TYPE_INSURANCE_CS_GUIDE:kr,MSG_TYPE_FAQ_BOT_REVIEW_SUMMARY_CARD:Hr,MSG_TYPE_QUESTION_LIST:xr,MSG_TYPE_TEXT_WITH_BUBBLE:Yr,MSG_TYPE_OUT_STOCK_CARD:Br,MSG_TYPE_RESTOCK_REMINDER_CARD:Vr,MSG_TYPE_FAQ_BOT_TIMELINE_CARD:Wr,MSG_TYPE_BOT_BARGAIN_CARD:Qr,MSG_TYPE_FAQ_BOT_AUTHENTIC_CARD:qr,MSG_TYPE_FAQ_TYPE_BOT_CONTACT_COURIER_CARD:zr,MSG_TYPE_RAISE_RR_CARD:Kr,MSG_TYPE_INQUIRY_RR_OPERATION_CARD:Xr,MSG_TYPE_INQUIRY_RR_OPERATION_FEEDBACK_CARD:Jr,MSG_TYPE_FAQ_TYPE_BOT_ITEM_COMPARISON:Zr,MSG_TYPE_INFORM_PROMOTION:$r,MSG_TYPE_NEW_ARRIVAL:eo,MSG_TYPE_CUSTOM_MESSAGE:to,MSG_TYPE_FAQ_BOT_SUGGESTION_CARD:ro,MSG_TYPE_SET_STOCK_REMINDER_CARD:oo,MSG_TYPE_FAQ_BOT_RAISE_RR_CARD:no,MSG_TYPE_FAQ_BOT_RAISE_RR_CARD_FEEDBACK_CARD:ao,MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_CARD:so,MSG_TYPE_FAQ_BOT_TRACK_RR_STATUS_FEEDBACK_CARD:co,MSG_TYPE_FAQ_BOT_ITEM_COLLECTIONS:io,MSG_TYPE_FAQ_BOT_TEXT_WITH_SHORTCUT:lo,MSG_TYPE_FAQ_BOT_PRODUCT:_o,MSG_TYPE_FAQ_BOT_VOUCHER_PRODUCT:uo,MSG_TYPE_FAQ_BOT_SELECT_PRODUCT:So,MSG_TYPE_CREDIT_CS_GUIDE:Eo,MSG_TYPE_OFFICIAL_CHAT_BANNER:po,MSG_TYPE_OFFICIAL_CHAT_REPAYMENT:vo,MSG_TYPE_OFFICIAL_CHAT_VOUCHER:To,MSG_TYPE_RICH_TEXT:fo,MSG_TYPE_FAQ_BOT_VOUCHER_FULFILLMENT:ho,MSG_TYPE_FAQ_BOT_MARKDOWN:Oo,MSG_TYPE_FAQ_TYPE_BOT_ITEM_VIDEO_CARD:go,MSG_TYPE_FAQ_BOT_LIVE_STREAM_ITEM:Ao}=r,{PENDING:Ro,REJECTED:mo}=Q,yo="common.unsupported_message",Co={[ur]:"faq.live_agent",[Sr]:"faq.new_unsupport_input",[Er]:"faq.feedback_prompt",[pr]:"faq.new_live_agent_prompt",[hr]:"conversation_detail.input_field.toolbar.video.tip",[Or]:"conversation_list.conversation_cell.new_image_message"},bo=(e,t)=>{var r=Co[e]||yo;return Xt(t)&&("faq.new_unsupport_input"!==r&&"faq.live_agent"!==r&&"faq.new_live_agent_prompt"!==r||(r="".concat(r,"_idscs"))),Jt(r)},Po=[ir],Do=[hr,Sr,Er,pr,Or],Io=[tr,vr,Pr,rr,or,nr,cr,gr,ar,_o],No=[mr,yr,Cr],wo=[Lr,Ur,Gr,Fr],Mo=[_o,Ao],Lo=[zr,Zr,So],Uo=({message:t,enableTranslation:r,locale:o,conversationShopId:n,currentSellerAccountId:a,isChatlistPreview:s,toShopId:c,isSubAccount:i,isCBSubAccount:l})=>{if(!t)return{text:Jt(yo)};var{type:_,content:u={},crm_message_preview:d={},message_option:S,source:E,send_status:p,custom_preview_text:v,label_info:{label_type:T}={}}=t,O=at(o),g=b(T);if((Lo.includes(_)||(null==v||!v.text)&&g)&&"[".concat(Jt("common.ai_assistant"),"] "),d.text&&_!==Xr){var m=rn(d,O);return{text:g?"".concat("").concat(m):m}}if(jo(S,e.MSG_OPT_CENSORED_BLACKLIST))return{text:"".concat("").concat(Jt("common.blacklist.replaced_text"))};if(_){var y,C,P,D,{text:I="",title:N,opening:w,caption:M,translation:L,product_name:U,sticker_name:G,chat_product_infos:F=[],products:j=[],rr_detail:k,user_id:H,enquiry_info:x={},common_info:Y={},bot_data:B,business_info:V}=u||{},W=qo(t,{isAgent:!1,shop_id:n}),Q=((e,t,r,o,n)=>{var a,{live_agent_text:s=[],fixed_title:c,faq_type_choice_translation:i}=t||{};if(Do.includes(e))a=s.length?Ho(s,r):bo(e,n);else if(No.includes(e))a=Ho(e===yr?i:c,r);else if(wo.includes(e))a=Jt("message.logistics_card.preview.prefix");else{var l=[_o,go].includes(e)?or:e,_=Io.includes(l)?"conversation_list.conversation_cell.new_".concat(l,"_message"):Po.includes(e)?"common.tips.recommended".concat(o?"":"_for_you"):"";a=_?"[".concat(Jt(_),"]"):Jt(yo)}return a})(_,u,o,W,c),q=(null==v||null===(y=v.translated_text)||void 0===y||null===(C=y.find((e=>e.translated_language===at(o))))||void 0===C?void 0:C.translated_text)||(null==v?void 0:v.text);switch(_){case Oo:case fo:D=q||"";break;case Wr:D=s?rn(v,O)||Jt(yo):null==V?void 0:V.quoted_text;break;case Dr:var{message:{plain_text:z=""}={},reply_type:K}=JSON.parse(B)||{};D=(D=1===K||1001===K?z:null!=u&&u.preview_text?null==u?void 0:u.preview_text:Jt(yo))||(null==u?void 0:u.preview_text)||Jt(yo);break;case Ar:case lr:var{translated_opening:{text:X}={}}=u||{};D=(l?X:w)||w||Jt("faq.no_set.chat_bot_title");break;case er:D=W?I:Fo({message:t,isSend:W,isSubAccount:i,enableTranslation:r})&&(null==L?void 0:L.text)||I,l&&(D=(null==L?void 0:L.text)||I);break;case ur:case _r:case dr:case fr:case Tr:case Rr:case br:D=I||N;break;case hr:D="[".concat(Q,"]");break;case Or:D="[".concat(Q,"] ").concat(M||N||I);break;case Sr:case Er:case pr:case mr:case yr:case Cr:D=Q;break;case or:D="".concat(Q," ").concat(U);break;case Ao:D="[".concat(Jt("livestream_card_preview_text"),"]"),D=Jt(yo);break;case _o:var J,{models:Z=[],name:$=""}=u||{};D="[".concat(Jt("common.product"),"] ").concat((null==Z||null===(J=Z[0])||void 0===J?void 0:J.model_name)||$);break;case uo:var{title:ee}=u||{};D=null==ee?void 0:ee.text;break;case go:D="".concat(Q," ").concat(rn(null==u?void 0:u.name,o));break;case ar:D=G?"[".concat(G,"]"):Q;break;case ir:var te=F.map((e=>e.name)).join("; ");D="".concat(Q," ").concat(te);break;case sr:var re,{notification_for_sender:oe,notification_for_receiver:ne,notifications_for_sender_hyperlink:ae,notifications_for_receiver_hyperlink:se}=Yo(u||{},o);if([...f,...h,A,...R].includes(null==u?void 0:u.notification_type)){if(null!==(re=D=W?ae:se)&&void 0!==re&&re.includes("<a>")){var ce=D.split("<a>").join("");D=ce.split("</a>").join("")}}else D=W?oe:ne;break;case gr:D="".concat(Q," ").concat(Jt(W?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case rr:var{status:ie,products_count:le,offer_price:_e}=u||{};if(ie)if(ie===Ro){var ue=Jt("conversation_list.preview.offer_pending_".concat(W?"sender":"receiver"));D="".concat(Q," ").concat(ue,": ").concat(_e," x ").concat(le),W||(P=!0)}else{var de=ie===mo?"declined":ie;D="".concat(Q," ").concat(Jt("conversation_detail.workstation.offer_panel.".concat(de)))}else D=Q;break;case nr:D="".concat(Q," ").concat(j.map((e=>e.title)).join("; "));break;case cr:var{type:Se,rule_text:Ee,discount_text:pe}=u||{};if(Se){var ve="[".concat(Jt("conversation_detail.workstation.voucher_panel.".concat(Se,"_voucher")),"]");Xt(c)&&"shop"===Se&&(ve="[".concat(Jt("conversation_detail.workstation.voucher_panel.".concat(Se,"_voucher_idscs")),"]")),D="".concat(ve," ").concat(pe,", ").concat(Ee)}else D=Q;break;case Ir:D=Jt("message.cart_reminder");break;case Nr:case $r:case eo:case to:var Te,fe,he,Oe=null!==(Te=null==u?void 0:u.title)&&void 0!==Te?Te:{};D=(null===(fe=Oe.translated_with_lang)||void 0===fe||null===(he=fe.find((e=>e.language===at(o))))||void 0===he?void 0:he.text)||Oe.text||Jt(yo);break;case wr:var{solution:ge,status:Ae}=k,Re=Vo({isBuyer:a===H,solution:ge,status:Ae});D="[".concat(Jt("label.return_and_refund"),"]").concat(Re);break;case Kr:case Jr:var{card_title:me=""}=u||{};D="[".concat(Jt("label.return_and_refund"),"] ").concat(rn(me,at(o)));break;case no:case ao:case so:case co:var{card_title:ye=""}=u||{};D="".concat(rn(ye,at(o)));break;case Xr:var{card_title_for_receiver:Ce="",card_title_for_sender:be=""}=u||{},Pe=W?be:Ce;D="[".concat(Jt("label.return_and_refund"),"] ").concat(rn(Pe,at(o)));break;case Mr:var De,Ie;D=(null==v||null===(De=v.translated_text)||void 0===De||null===(Ie=De.find((e=>e.translated_language===at(o))))||void 0===Ie?void 0:Ie.translated_text)||(null==v?void 0:v.text)||Jt(yo),D=rn(v,O)||Jt(yo);break;case Lr:case Gr:var Ne=Wo(_,u,Y.user_id===a,!0);D="[".concat(Q,"] ").concat(Ne);break;case Ur:var we=Qo(x);D="[".concat(Q,"] ").concat(we);break;case Fr:D="[".concat(Q,"] ").concat(Jt("message.late_delivery_compensation_voucher.title"));break;case jr:var Me,Le,Ue=(null==v||null===(Me=v.translated_text)||void 0===Me||null===(Le=Me.find((e=>e.translated_language===at(o))))||void 0===Le?void 0:Le.translated_text)||(null==v?void 0:v.text)||Jt("common.chat_with_shopee")||Jt(yo),{button_type:Ge}=u||{};D=1===Ge?Ue:Jt("text.customer_service_entrance");break;case Eo:case kr:D=rn(null==u?void 0:u.chat_general_text,at(o));break;case Hr:var Fe,je;D=(null==v||null===(Fe=v.translated_text)||void 0===Fe||null===(je=Fe.find((e=>e.translated_language===at(o))))||void 0===je?void 0:je.translated_text)||(null==v?void 0:v.text)||Jt(yo),D=rn(v,O)||Jt(yo);break;case Br:D="[".concat(Jt("preview.set_restock_reminder"),"]");break;case Vr:D="[".concat(Jt("preview.restock_reminder"),"]");break;case Qr:D="[".concat(Jt("common.preview.bargain_card"),"]");break;case qr:D=Jt("Authentic_card_preview");break;case zr:D=null==V?void 0:V.quoted_text;break;case ro:case Zr:var{comparison_summary:ke=""}=u||{};D=ke;break;case xr:D=rn(N,O)||(null==N?void 0:N.text)||Jt(yo);break;case Yr:if(!(D=rn(I,O)||(null==I?void 0:I.text)||Jt(yo))){var{bubble_type:He}=u||{};1===He&&(D=Jt("modal.select_order.title"))}break;case oo:D="[".concat(Jt("preview.prefix.set_stock_reminder"),"] ").concat(Jt("label.out_stock.title"));break;case io:var xe,Ye,Be,{item_collections:Ve=[]}=u||{};D=(null==v||null===(xe=v.translated_text)||void 0===xe||null===(Ye=xe.find((e=>e.translated_language===at(o))))||void 0===Ye?void 0:Ye.translated_text)||(null==v?void 0:v.text)||(null==Ve||null===(Be=Ve[0])||void 0===Be?void 0:Be.collection_name)||Jt(yo);break;case lo:var We,Qe,{text:qe=""}=u||{};D=(null==v||null===(We=v.translated_text)||void 0===We||null===(Qe=We.find((e=>e.translated_language===at(o))))||void 0===Qe?void 0:Qe.translated_text)||(null==v?void 0:v.text)||qe||Jt(yo);break;case So:var{text:ze=""}=u||{};D=ze;break;case po:case To:var{title:Ke}=u||{};D=Ke;break;case vo:var{preview:{prefix:Xe=""}={},bill_status:{content:Je}={}}=u||{},Ze=Je;W||(P=!0),D="[".concat(Xe.replace(/[[\]]/g,""),"] ").concat(Ze);break;case ho:var{promo_title:{text:$e=""},card_title:{text:et=""}}=u||{};D=(null==$e?void 0:$e.replace(/<\/?b>/g,""))||et;break;default:D=Q}return{text:"".concat("").concat(D),isPendingReceivedOffer:P}}return{text:"".concat("").concat(Jt(yo))}},Go=["crm","proactive_update"],Fo=({message:t,isSend:o,isSubAccount:n,enableTranslation:a})=>{var{send_status:s,message_option:c,content:i={},country:l,type:_,source:u}=t,d=xo(i);return!o&&(n||"ID"!==l)&&_===r.MSG_TYPE_TEXT&&!Go.includes(u)&&c!==e.MSG_OPT_SOCIAL_MESSAGE&&2!==s&&a&&!d},jo=(e,t)=>(e&t)===t,ko=(t={})=>jo(t.message_option,e.MSG_OPT_DELETE),Ho=(e=[],t)=>(e.find((e=>at(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,xo=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:o=""}=r,{final:n,mid:a,target_language:s="",source_language:c=""}=t||{},i=n?n.target_language:s,l=n?n.source_language:c,_=a?a.source_language:o;return _?_===i:l===i&&"unknown"!==l},Yo=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e;if(!r.length)return e;var o=r.find((e=>at(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(o)return o;var n=r.find((e=>"en"===e.language));return n||e},Bo=e=>{var{type:t,textContent:r,content:o}=e,n={};switch(t){case nr:var{products:a}=r||{};n={products:a};break;case cr:var{rule_text:s,discount_text:c,type:i}=r||{};n={rule_text:s,discount_text:c,type:i};break;case rr:var{status:l,products_count:_,offer_price:u}=r||{};n={status:l,products_count:_,offer_price:u};break;case or:n={product_name:o.product_name||(null==r?void 0:r.name)}}return $t($t({},e),{},{content:$t($t({},o),n)})},Vo=({isBuyer:e,status:t,solution:r})=>{var o=r===_.Return?"return":"return_refund",n=t===l.Submit?"proposed":t===l.Refund?"succeed":"rejected";return Jt("rr_message_title.".concat(e?"buyer":"seller",".").concat(o,".").concat(n))},Wo=(e,t,o,n)=>{var{common_info:{card_label:a,order_delivery_status:s}={},logistic_tracking_info:{estimate_delivery_time:c,stuck_time:i}={},expedite_delivery_button:l}=t||{},_=e===r.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,u=a===d.Inquiry,E=T[S[s]],p="".concat(vt(1e3*c,"www"),", ").concat(vt(1e3*c,"LHDS")),v=n?p:"<a>".concat(p,"</a>"),f=Math.floor(i/86400),h="stuck"===E&&0===f,O="";if(_&&o&&!u)O=Jt("message.expedited_logistics_card.title.buyer.expedite");else if(o){var g=l||_||s!==S.AfterGuarantee&&s!==S.AfterEstimated&&(s!==S.Stuck||u)?"":".unable_expedite";O=Jt("message.".concat(e,".title.buyer.").concat(u?"inquiry":"expedite",".").concat(E).concat(g),{date:v,num:f}),h&&!_&&(O=u?Jt("message.logistics_card.title.buyer.inquiry.normal",{date:v}):Jt("message.logistics_card.title.buyer.expedite.nostuck".concat(g)))}else O=Jt("message.logistics_card.title.seller.".concat(E),{date:v,num:f}),h&&(O="".concat(Jt("message.logistics_card.title.seller.normal",{date:v})).concat(Jt("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return O},Qo=e=>{var{display_sla_type:t,display_sla_value:r,enquiry_id:o}=e||{};if(t===u.day&&r&&o&&"0"!==o){var n="".concat(u[t],"s");return Jt("message.issue_enquiry_card.title.".concat(n),{value:r})}return Jt("message.issue_enquiry_card.title.unavailable")},qo=(e={},t={})=>{var{isAgent:r,to_tob_user_id:o,shop_id:n}=t,{from_id:a,to_shop_id:s}=e;return r?a!==o:s!==n},zo=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),Ko=()=>Math.ceil(Date.now()/1e3).toString(),Xo=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Jo=(e,t,r,o)=>{var n=document.createElement("pre"),a=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(n.id="chat-text-pre",n.setAttribute("style",a),n.innerText=t,r){var s=Xo(r);if(n.appendChild(s),o){var c=(()=>{var e=document.createElement("span");return e.setAttribute("style","\n  width: 20px;\n  height: 1px;\n  display: inline-block;\n"),e})();n.appendChild(c)}}return n},Zo=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),o="height"===t?r.height:r.width;return document.body.removeChild(e),o},$o=(e,t,r,o)=>{var n=Jo(r,e),a=Xo(t),s=Jo(r,e,t,o),c=Zo(n);return{conflict:c!==Zo(s),multiLine:c>38,timeWidth:Zo(a,"width"),widthConflict:Zo(s,"width")>Zo(n,"width")}},en=({isSubAccount:e,status:t,userStatus:r,isBlocked:o})=>"closed"===t?"closed":["banned","frozen"].includes(r)?r:!(0,Xe.z$)()&&e||!o?"":"blocked",tn=(e,t=40)=>{var r,o,n=document.getElementById("infinite-list");if(!e||!n)return!1;var a=null==n||null===(r=n.getBoundingClientRect)||void 0===r?void 0:r.call(n),s=null==e||null===(o=e.getBoundingClientRect)||void 0===o?void 0:o.call(e);return Math.min(null==s?void 0:s.bottom,null==a?void 0:a.bottom)-Math.max(null==s?void 0:s.top,null==a?void 0:a.top)>t},rn=(e,t)=>{var r,o,n,a;return"string"==typeof e?e:(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(o=r.find((e=>e.language.toLocaleLowerCase()===t.toLocaleLowerCase())))||void 0===o?void 0:o.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(a=n.find((e=>e.translated_language.toLocaleLowerCase()===t.toLocaleLowerCase())))||void 0===a?void 0:a.translated_text)||(null==e?void 0:e.text)||""},on=(e,t)=>{var r,o,n;return null===(r=(null===(o=Object.values(e))||void 0===o?void 0:o.find((e=>e.lang===at(t))))||(null===(n=Object.values(e))||void 0===n?void 0:n.find((e=>"en"===e.lang))))||void 0===r?void 0:r.text},nn=s(95)})(),c})(),e.exports=o(r(58518),r(88186),r(36808),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);